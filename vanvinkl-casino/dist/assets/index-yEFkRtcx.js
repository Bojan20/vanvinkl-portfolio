const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SlotFullScreen-N_cvEI0f.js","assets/vendor-CHpUuF4d.js","assets/vendor-three-Dg8eVzpj.js"])))=>i.map(i=>d[i]);
import{r as e,u as t,j as n,R as s,T as r,I as o,B as i,w as a,K as l,y as c,q as u,A as d,d as p,a as h,c as f,s as m,_ as x,C as g,b as y}from"./vendor-CHpUuF4d.js";import{e as j,a1 as v,ad as b,ae as w,D as M,af as k,aa as S,j as R,ag as T,g as A,h as z,ah as C,p as E,ai as G}from"./vendor-three-Dg8eVzpj.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const I="#12121a",L="#222230",B="#aaaabc",P="#ff00aa",D="#00ffff",V="#8844ff",O="#101820",F={skills:{symbols:["âš¡","ðŸ”§","ðŸ’»","ðŸŽ¯","âš™ï¸","ðŸŽ¨","ðŸ”Š","ðŸ“"],colors:["#00ffff","#ffd700","#ff00aa","#00ff88","#8844ff","#ff6600","#00aaff","#ffaa00"]},services:{symbols:["ðŸŽ°","ðŸŽ®","ðŸŒ","ðŸ“±","ðŸ”¨","ðŸ’¡","ðŸš€","â­"],colors:["#ffd700","#ff00aa","#00ffff","#00ff88","#8844ff","#ffaa00","#ff6600","#00aaff"]},about:{symbols:["ðŸ‘¨â€ðŸ’»","ðŸ†","ðŸŒ","ðŸ’¬","âœ¨","ðŸŽ¯","ðŸ’¼","ðŸ”¥"],colors:["#00ffff","#ffd700","#8844ff","#ff00aa","#00ff88","#ffaa00","#ff6600","#00aaff"]},projects:{symbols:["ðŸŽ°","ðŸƒ","ðŸŽ®","ðŸ“Š","ðŸ”§","ðŸ’Ž","ðŸŽ²","ðŸ†"],colors:["#ff00aa","#ffd700","#00ffff","#8844ff","#00ff88","#ffaa00","#ff6600","#00aaff"]},experience:{symbols:["ðŸ¢","ðŸŽ°","ðŸŒ","ðŸŽ“","ðŸ“œ","â­","ðŸ’¼","ðŸš€"],colors:["#8844ff","#ffd700","#00ffff","#ff00aa","#00ff88","#ffaa00","#ff6600","#00aaff"]},contact:{symbols:["ðŸ“§","ðŸ’¼","ðŸ™","ðŸŒ","ðŸ“±","ðŸ’¬","ðŸ¤","âœ‰ï¸"],colors:["#00ffff","#8844ff","#ffd700","#ff00aa","#00ff88","#ffaa00","#ff6600","#00aaff"]}},W=["7","â˜…","â™¦","â™ ","â™¥","â™£","A","K"];function U(t){return e.useMemo(()=>new v({uniforms:{color:{value:new j(t)},time:{value:0},intensity:{value:.4}},vertexShader:"\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    ",fragmentShader:"\n      uniform vec3 color;\n      uniform float time;\n      uniform float intensity;\n      varying vec2 vUv;\n      void main() {\n        float wave = 0.6 + 0.4 * sin(time * 4.0 + vUv.y * 15.0);\n        gl_FragColor = vec4(color * wave * intensity * 2.5, 1.0);\n      }\n    ",toneMapped:!1}),[t])}function $({position:o,label:i,machineId:a,nearMachineRef:l,spinningMachineRef:c}){const u=e.useRef(null),d=e.useRef(null),p=e.useRef(null),h=e.useRef(null),f=e.useRef(null),m=e.useRef(null),x=e.useRef(null),g=e.useRef(null),y=e.useRef(100*Math.random()),v=e.useRef(0),M=e.useRef({labelIdle:new j(P),labelActive:new j(D)}),k=e.useRef({spinning:!1,spinTime:0,reelOffsets:[0,0,0,0,0],reelSpeeds:[0,0,0,0,0]}),S=e.useRef(!1),R=e.useRef(!1),T=U(P),A=U(D);t((e,t)=>{y.current+=t;const n=y.current,s=l.current===a,r=c.current===a;!s&&S.current&&(k.current.reelOffsets=[0,0,0,0,0],k.current.spinning=!1,k.current.spinTime=0),S.current=s,!r||R.current||k.current.spinning||(k.current.spinning=!0,k.current.spinTime=0,k.current.reelSpeeds=[22,24,26,28,30]),R.current=r;const o=s?1:0;v.current+=(o-v.current)*Math.min(15*t,1);const i=v.current,h=e.clock.elapsedTime;T.uniforms.time.value=h,A.uniforms.time.value=h,T.uniforms.intensity.value=b.lerp(.4,1,i),A.uniforms.intensity.value=b.lerp(.4,1,i);const f=M.current;if(x.current){x.current.material.color.copy(f.labelIdle).lerp(f.labelActive,i)}if(g.current){g.current.material.color.copy(f.labelIdle).lerp(f.labelActive,i)}const j=k.current;if(j.spinning){j.spinTime+=t;const e=[.6,.8,1,1.2,1.4];for(let n=0;n<5;n++)if(j.spinTime<e[n]){const s=j.spinTime/e[n],r=1-Math.pow(1-s,3);j.reelOffsets[n]+=j.reelSpeeds[n]*(1-.96*r)*t}j.spinTime>e[4]+.2&&(j.spinning=!1)}if(d.current&&d.current.children.forEach((e,t)=>{e instanceof w&&(e.rotation.x=j.reelOffsets[t])}),u.current){const e=1+.008*Math.sin(2*n)*i;u.current.scale.set(e,e,e)}if(p.current){p.current.lookAt(e.camera.position);const t=.12*Math.sin(4*n)*i,s=b.lerp(5.5,6,i);p.current.position.y=s+t;const r=b.lerp(1,1.3,i)+.1*Math.sin(6*n)*i;p.current.scale.setScalar(r)}if(m.current){const e=m.current.material,t=.6+.4*Math.sin(8*n);e.opacity=b.lerp(.4,t,i)}if(!s&&u.current){const e=.015*Math.sin(.8*n);u.current.rotation.y=e}if(s&&u.current){const e=.01*Math.sin(8*n);u.current.rotation.z=e}});const z=l.current===a;return n.jsxs("group",{ref:u,position:o,children:[n.jsx(s,{args:[3,5,1.3],radius:.1,position:[0,2.5,0],children:n.jsx("meshStandardMaterial",{color:I,metalness:.85,roughness:.2})}),n.jsx(s,{args:[2.9,4.8,.12],radius:.06,position:[0,2.5,.62],children:n.jsx("meshStandardMaterial",{color:L,metalness:.7,roughness:.3})}),n.jsxs("mesh",{position:[0,5.05,.65],children:[n.jsx("boxGeometry",{args:[3.1,.08,.15]}),n.jsx("meshStandardMaterial",{color:B,metalness:1,roughness:.1})]}),n.jsxs("mesh",{position:[0,.05,.65],children:[n.jsx("boxGeometry",{args:[3.1,.08,.15]}),n.jsx("meshStandardMaterial",{color:B,metalness:1,roughness:.1})]}),n.jsx("mesh",{ref:h,position:[-1.48,2.5,.65],material:T,children:n.jsx("boxGeometry",{args:[.06,4.6,.06]})}),n.jsx("mesh",{ref:f,position:[1.48,2.5,.65],material:A,children:n.jsx("boxGeometry",{args:[.06,4.6,.06]})}),n.jsx(s,{args:[2.6,.8,.1],radius:.04,position:[0,4.4,.64],children:n.jsx("meshStandardMaterial",{color:"#101018",metalness:.6,roughness:.3})}),n.jsxs("mesh",{position:[0,4.4,.7],children:[n.jsx("planeGeometry",{args:[2.5,.7]}),n.jsx("meshBasicMaterial",{color:z?"#0a2030":"#080814"})]}),n.jsxs("mesh",{position:[0,4.78,.68],children:[n.jsx("boxGeometry",{args:[2.4,.025,.015]}),n.jsx("meshBasicMaterial",{color:z?D:"#335577",toneMapped:!1})]}),n.jsx(s,{args:[2.7,1.8,.14],radius:.05,position:[0,2.9,.62],children:n.jsx("meshStandardMaterial",{color:"#080810",metalness:.8,roughness:.2})}),n.jsx(s,{args:[2.75,1.85,.05],radius:.04,position:[0,2.9,.66],children:n.jsx("meshStandardMaterial",{color:B,metalness:1,roughness:.1})}),n.jsxs("mesh",{position:[0,2.9,.69],children:[n.jsx("planeGeometry",{args:[2.6,1.7]}),n.jsx("meshBasicMaterial",{color:O})]}),[0,1,2,3].map(e=>n.jsxs("mesh",{position:[.52*e-1.04,2.9,.7],children:[n.jsx("boxGeometry",{args:[.02,1.65,.025]}),n.jsx("meshStandardMaterial",{color:B,metalness:1,roughness:.15})]},`div-${e}`)),n.jsx("group",{ref:d,position:[0,2.9,.73],children:[0,1,2,3,4].map(e=>{const t=F[a]||{symbols:W,colors:Array(8).fill("#ffffff")};return n.jsx("group",{position:[.52*e-1.04,0,0],children:t.symbols.map((e,s)=>{const o=s/t.symbols.length*Math.PI*2,i=t.colors[s]||"#ffffff";return n.jsx(r,{position:[0,.58*Math.sin(o),.22*Math.cos(o)],rotation:[-o,0,0],fontSize:.28,color:i,anchorX:"center",anchorY:"middle",children:e},`sym-${s}`)})},`reel-${e}`)})}),n.jsxs("mesh",{position:[0,1.7,.69],children:[n.jsx("planeGeometry",{args:[2.3,.45]}),n.jsx("meshBasicMaterial",{color:z?D:V,toneMapped:!1,transparent:!0,opacity:z?.9:.55})]}),n.jsx(r,{position:[0,1.7,.7],fontSize:.16,color:"#000000",anchorX:"center",anchorY:"middle",children:z?"PRESS SPACE TO PLAY":"WALK CLOSER"}),n.jsx(s,{args:[2.4,.45,.28],radius:.04,position:[0,1,.68],children:n.jsx("meshStandardMaterial",{color:L,metalness:.6,roughness:.4})}),[-.65,-.25,.15,.55].map((e,t)=>n.jsxs("group",{children:[n.jsxs("mesh",{position:[e,1.02,.85],children:[n.jsx("cylinderGeometry",{args:[.085,.085,.06,16]}),n.jsx("meshStandardMaterial",{color:3===t?"#dd2222":"#2a2a32",metalness:.4,roughness:.5})]}),3===t&&n.jsxs("mesh",{position:[e,1.02,.83],children:[n.jsx("torusGeometry",{args:[.1,.012,8,24]}),n.jsx("meshBasicMaterial",{color:z?"#ff5555":"#772222",toneMapped:!1})]})]},`btn-${t}`)),n.jsxs("mesh",{position:[0,.3,.7],children:[n.jsx("boxGeometry",{args:[2,.35,.3]}),n.jsx("meshStandardMaterial",{color:"#101016",metalness:.7,roughness:.3})]}),n.jsxs("mesh",{position:[0,.32,.8],children:[n.jsx("boxGeometry",{args:[1.8,.25,.1]}),n.jsx("meshStandardMaterial",{color:"#0a0a0e",metalness:.5,roughness:.5})]}),n.jsxs("mesh",{position:[0,.06,0],children:[n.jsx("boxGeometry",{args:[3.1,.12,1.4]}),n.jsx("meshStandardMaterial",{color:"#101016",metalness:.8,roughness:.2})]}),n.jsxs("mesh",{position:[0,.03,.65],children:[n.jsx("boxGeometry",{args:[2.9,.02,.02]}),n.jsx("meshBasicMaterial",{color:z?D:"#335577",toneMapped:!1})]}),n.jsx("pointLight",{position:[0,3,1.2],color:z?D:V,intensity:z?3:1,distance:6}),n.jsxs("group",{ref:p,position:[0,5.5,0],children:[n.jsxs("mesh",{ref:x,position:[0,0,-.08],children:[n.jsx("planeGeometry",{args:[.32*i.length+1.2,.9]}),n.jsx("meshBasicMaterial",{color:P,transparent:!0,opacity:.6})]}),n.jsxs("mesh",{position:[0,0,-.05],children:[n.jsx("planeGeometry",{args:[.28*i.length+.9,.7]}),n.jsx("meshBasicMaterial",{color:"#080812",transparent:!0,opacity:.95})]}),n.jsxs("mesh",{ref:g,position:[0,0,-.06],children:[n.jsx("planeGeometry",{args:[.28*i.length+1.05,.8]}),n.jsx("meshBasicMaterial",{color:P,transparent:!0,opacity:.9})]}),n.jsxs(r,{fontSize:.42,color:z?"#ffffff":P,anchorX:"center",anchorY:"middle",outlineWidth:.015,outlineColor:z?D:"#000000",children:[i,n.jsx("meshBasicMaterial",{toneMapped:!1})]})]})]})}const _=1.25,q={headRadius:.1375,neckHeight:.07*_,shoulderWidth:.55,chestHeight:.34*_,waistWidth:.4,hipWidth:.34*_,upperArmLength:.28*_,lowerArmLength:.325,armThickness:.0625,upperLegLength:.55,lowerLegLength:.525,legThickness:.09375,footLength:.3,footHeight:.1},H="#d4b896",N="#0a0812",X="#1a1828",Y="#080810",K="#0a0a0a",Z="#aaaacc",J="#ffd700",Q="#00ffff",ee="#ff00ff",te="#ff0080",ne="#aa44ff",se="#0088ff",re="#00ff88",oe="#ff0044",ie="#00ffff",ae="#ff00ff",le="#1a1a2a";function ce({positionRef:s,rotationRef:r,isMovingRef:o,machinePositions:i=[],collisionBoxes:a=[],isSittingRef:l,sittingRotationRef:c,inputDisabled:u=!1}){const d=e.useRef(null),p=e.useRef(0),h=e.useRef(0),f=e.useRef(0),m=e.useRef(100*Math.random()),x=e.useRef({x:0,z:0}),g=e.useRef({forward:!1,backward:!1,left:!1,right:!1}),y=e.useRef(null),j=e.useRef(null),v=e.useRef(null),b=e.useRef(null),w=e.useRef(null),k=e.useRef(null),S=e.useRef(null),R=e.useRef(null),T=e.useRef(null),A=e.useRef(null),z=e.useRef(null),C=e.useRef(null),E=e.useRef(null),G=e.useRef(null),I=e.useRef(null),L=e.useRef(null),B=e.useRef(null),P=e.useRef(null),D=e.useRef(null),V=e.useRef(null),O=e.useRef(null),F=e.useRef(null),W=e.useRef(null),U=e.useRef(null),$=e.useRef(null),_=e.useRef(null),ce=e.useRef(null),ue=e.useRef(null),de=e.useRef(null),pe=e.useRef(null),he=e.useRef(null),fe=e.useRef(null),me=e.useRef(u);t(()=>{u!==me.current&&(me.current=u,u&&(g.current.forward=!1,g.current.backward=!1,g.current.left=!1,g.current.right=!1))}),e.useMemo(()=>{const e=e=>{if(!me.current)switch(e.code){case"KeyW":case"ArrowUp":g.current.forward=!0;break;case"KeyS":case"ArrowDown":g.current.backward=!0;break;case"KeyA":case"ArrowLeft":g.current.left=!0;break;case"KeyD":case"ArrowRight":g.current.right=!0}},t=e=>{switch(e.code){case"KeyW":case"ArrowUp":g.current.forward=!1;break;case"KeyS":case"ArrowDown":g.current.backward=!1;break;case"KeyA":case"ArrowLeft":g.current.left=!1;break;case"KeyD":case"ArrowRight":g.current.right=!1}},n=()=>{g.current.forward=!1,g.current.backward=!1,g.current.left=!1,g.current.right=!1};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),window.addEventListener("blur",n),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t),window.removeEventListener("blur",n)}},[]),t((e,t)=>{if(!d.current)return;const n=!l.current&&(g.current.forward||g.current.backward||g.current.left||g.current.right);m.current+=t,o&&(o.current=n),r&&(r.current=p.current);const u=m.current,M=.6+.4*Math.sin(3*u),q=.7+.3*Math.sin(4*u+1),H=.5+.5*Math.sin(5*u+2),N=.8+.2*Math.sin(2*u),X=.6+.4*Math.sin(8*u),Y=.7+.3*Math.sin(1.5*u);if(C.current){C.current.material.opacity=.85+.15*Math.sin(6*u)}if(E.current){const e=E.current.material,t=Math.pow(Math.sin(4*u),2);e.opacity=.7+.3*t,E.current.scale.setScalar(1+.15*t)}if(G.current){G.current.rotation.y=.5*u;G.current.material.opacity=n?.25+.1*Math.sin(3*u):.15+.05*Math.sin(2*u)}if(I.current){I.current.rotation.y=.8*-u;I.current.material.opacity=n?.2+.1*Math.sin(4*u):.1+.05*Math.sin(3*u)}if(L.current){L.current.material.opacity=M}if(D.current){D.current.material.opacity=q}if(F.current){F.current.material.opacity=H}if(W.current){W.current.material.opacity=X}if(B.current){B.current.material.opacity=M}if(P.current){P.current.material.opacity=q}if(U.current){U.current.material.opacity=N}if($.current){$.current.material.opacity=N}if(_.current){_.current.material.opacity=Y}if(ce.current){ce.current.material.opacity=X}if(ue.current){ue.current.material.opacity=X}if(de.current){de.current.material.opacity=H}if(pe.current){pe.current.material.opacity=H}if(V.current){V.current.material.opacity=n?1:.5+.3*Math.sin(2.5*u)}if(O.current){O.current.material.opacity=n?1:.5+.3*Math.sin(2.5*u+1)}if(he.current){he.current.material.opacity=M}if(fe.current){fe.current.material.opacity=q}if(l.current)return d.current.position.x=s.current.x,d.current.position.z=s.current.z,d.current.position.y=.1,d.current.rotation.y=c.current,z.current&&(z.current.rotation.x=0,z.current.rotation.y=0),T.current&&(T.current.rotation.x=-.1,T.current.rotation.y=0,T.current.rotation.z=0),A.current&&(A.current.rotation.x=.05,A.current.rotation.y=.05*Math.sin(.5*u)),y.current&&(y.current.rotation.x=-1.57,y.current.rotation.z=.1),j.current&&(j.current.rotation.x=-1.57,j.current.rotation.z=-.1),v.current&&(v.current.rotation.x=1.57),b.current&&(b.current.rotation.x=1.57),w.current&&(w.current.rotation.x=.4,w.current.rotation.z=.3),k.current&&(k.current.rotation.x=.4,k.current.rotation.z=-.3),S.current&&(S.current.rotation.x=-.8),void(R.current&&(R.current.rotation.x=-.8));if(n){let e=0,n=0;g.current.forward&&(n-=1),g.current.backward&&(n+=1),g.current.left&&(e-=1),g.current.right&&(e+=1);const s=Math.sqrt(e*e+n*n);s>0&&(e/=s,n/=s),x.current.x=7*e,x.current.z=7*n;let r=Math.atan2(e,n)-p.current;for(;r>Math.PI;)r-=2*Math.PI;for(;r<-Math.PI;)r+=2*Math.PI;p.current+=15*r*t,h.current+=10*t,f.current=0}else x.current.x=0,x.current.z=0,f.current+=t;if(n){let e=s.current.x+x.current.x*t,n=s.current.z+x.current.z*t;for(const t of i){const s=e-t.x,r=n-t.z;Math.abs(s)<1.8&&Math.abs(r)<1&&(Math.abs(s)>Math.abs(r)?e=t.x+1.8*Math.sign(s):n=t.z+1*Math.sign(r))}for(const t of a){const s=e-t.x,r=n-t.z,o=t.width/2+.3,i=t.depth/2+.3;if(Math.abs(s)<o&&Math.abs(r)<i){o-Math.abs(s)<i-Math.abs(r)?e=t.x+Math.sign(s)*o:n=t.z+Math.sign(r)*i}}s.current.x=e,s.current.z=n}s.current.x=Math.max(-28,Math.min(28,s.current.x)),s.current.z=Math.max(-8,Math.min(20,s.current.z)),d.current.position.x=s.current.x,d.current.position.z=s.current.z,d.current.rotation.y=p.current;const K=h.current,Z=f.current;if(n){const e=.5*Math.sin(K),t=.4*Math.sin(K),n=.8*Math.max(0,Math.sin(K-.5)),s=.5*Math.max(0,Math.sin(K+.5)),r=.03*Math.abs(Math.sin(2*K));d.current.position.y=r,z.current&&(z.current.rotation.y=.08*Math.sin(K),z.current.rotation.x=.02),T.current&&(T.current.rotation.y=.1*-Math.sin(K),T.current.rotation.z=.03*Math.sin(K)),A.current&&(A.current.rotation.y=.05*Math.sin(K),A.current.rotation.x=-.05),y.current&&(y.current.rotation.x=e),v.current&&(v.current.rotation.x=e<0?n:0),j.current&&(j.current.rotation.x=-e),b.current&&(b.current.rotation.x=-e<0?n:0),w.current&&(w.current.rotation.x=-t),S.current&&(S.current.rotation.x=-s-.2),k.current&&(k.current.rotation.x=t),R.current&&(R.current.rotation.x=-s-.2)}else{const e=.01*Math.sin(1.5*Z),t=.01*Math.sin(.5*Z);d.current.position.y=0,T.current&&(T.current.rotation.x=e,T.current.rotation.y=t,T.current.rotation.z=0),z.current&&(z.current.rotation.x=0,z.current.rotation.y=0),A.current&&(A.current.rotation.x=.02*Math.sin(.7*Z),A.current.rotation.y=.03*Math.sin(.3*Z)),y.current&&(y.current.rotation.x=0),j.current&&(j.current.rotation.x=0),v.current&&(v.current.rotation.x=0),b.current&&(b.current.rotation.x=0),w.current&&(w.current.rotation.x=.1,w.current.rotation.z=.15),k.current&&(k.current.rotation.x=.1,k.current.rotation.z=-.15),S.current&&(S.current.rotation.x=-.3),R.current&&(R.current.rotation.x=-.3)}});const xe=q.footHeight+q.lowerLegLength+q.upperLegLength;return n.jsxs("group",{ref:d,children:[n.jsxs("mesh",{ref:G,position:[0,1,0],children:[n.jsx("torusGeometry",{args:[.8,.02,8,32]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.2,toneMapped:!1,side:M})]}),n.jsxs("mesh",{ref:I,position:[0,1,0],rotation:[Math.PI/2,0,0],children:[n.jsx("torusGeometry",{args:[.6,.015,8,32]}),n.jsx("meshBasicMaterial",{color:ee,transparent:!0,opacity:.15,toneMapped:!1,side:M})]}),n.jsxs("mesh",{position:[0,.02,0],rotation:[-Math.PI/2,0,0],children:[n.jsx("ringGeometry",{args:[.4,.6,32]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.3,toneMapped:!1,side:M})]}),n.jsxs("group",{ref:z,position:[0,xe,0],children:[n.jsxs("mesh",{position:[0,-.05,0],children:[n.jsx("boxGeometry",{args:[q.hipWidth+.04,.14,.2]}),n.jsx("meshStandardMaterial",{color:N,metalness:.7,roughness:.3})]}),n.jsxs("mesh",{position:[0,0,0],children:[n.jsx("boxGeometry",{args:[q.hipWidth+.06,.05,.21]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{ref:F,position:[0,0,.11],children:[n.jsx("boxGeometry",{args:[q.hipWidth-.1,.025,.01]}),n.jsx("meshBasicMaterial",{color:ee,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,0,.115],children:[n.jsx("boxGeometry",{args:[.06,.04,.01]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.8,toneMapped:!1})]}),n.jsxs("group",{ref:y,position:[-.1,-.08,0],children:[n.jsxs("mesh",{position:[0,-.275,0],children:[n.jsx("capsuleGeometry",{args:[q.legThickness,q.upperLegLength-.16,8,16]}),n.jsx("meshStandardMaterial",{color:Y,metalness:.4,roughness:.6})]}),n.jsxs("mesh",{position:[0,-.275,.06],children:[n.jsx("boxGeometry",{args:[.09,.2,.035]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{ref:de,position:[-.07,-.275,.02],children:[n.jsx("boxGeometry",{args:[.01,.15,.02]}),n.jsx("meshBasicMaterial",{color:ne,transparent:!0,opacity:.8,toneMapped:!1})]}),n.jsxs("group",{ref:v,position:[0,-.55,0],children:[n.jsxs("mesh",{position:[0,-.2625,0],children:[n.jsx("capsuleGeometry",{args:[.85*q.legThickness,q.lowerLegLength-.14,8,16]}),n.jsx("meshStandardMaterial",{color:Y,metalness:.4,roughness:.6})]}),n.jsxs("mesh",{position:[0,-.2625,.05],children:[n.jsx("boxGeometry",{args:[.07,.24,.03]}),n.jsx("meshStandardMaterial",{color:J,metalness:.9,roughness:.15})]}),n.jsxs("mesh",{position:[0,-.2625,.07],children:[n.jsx("boxGeometry",{args:[.04,.18,.01]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.7,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,-.525-q.footHeight/2+.02,.03],children:[n.jsx("boxGeometry",{args:[.1,q.footHeight+.02,q.footLength]}),n.jsx("meshStandardMaterial",{color:K,metalness:.6,roughness:.4})]}),n.jsxs("mesh",{ref:V,position:[0,-.545,.12],children:[n.jsx("boxGeometry",{args:[.09,.02,.1]}),n.jsx("meshBasicMaterial",{color:te,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,-.505,.05],children:[n.jsx("boxGeometry",{args:[.11,.04,.02]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]})]})]}),n.jsxs("group",{ref:j,position:[.1,-.08,0],children:[n.jsxs("mesh",{position:[0,-.275,0],children:[n.jsx("capsuleGeometry",{args:[q.legThickness,q.upperLegLength-.16,8,16]}),n.jsx("meshStandardMaterial",{color:Y,metalness:.4,roughness:.6})]}),n.jsxs("mesh",{position:[0,-.275,.06],children:[n.jsx("boxGeometry",{args:[.09,.2,.035]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{ref:pe,position:[.07,-.275,.02],children:[n.jsx("boxGeometry",{args:[.01,.15,.02]}),n.jsx("meshBasicMaterial",{color:ne,transparent:!0,opacity:.8,toneMapped:!1})]}),n.jsxs("group",{ref:b,position:[0,-.55,0],children:[n.jsxs("mesh",{position:[0,-.2625,0],children:[n.jsx("capsuleGeometry",{args:[.85*q.legThickness,q.lowerLegLength-.14,8,16]}),n.jsx("meshStandardMaterial",{color:Y,metalness:.4,roughness:.6})]}),n.jsxs("mesh",{position:[0,-.2625,.05],children:[n.jsx("boxGeometry",{args:[.07,.24,.03]}),n.jsx("meshStandardMaterial",{color:J,metalness:.9,roughness:.15})]}),n.jsxs("mesh",{position:[0,-.2625,.07],children:[n.jsx("boxGeometry",{args:[.04,.18,.01]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.7,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,-.525-q.footHeight/2+.02,.03],children:[n.jsx("boxGeometry",{args:[.1,q.footHeight+.02,q.footLength]}),n.jsx("meshStandardMaterial",{color:K,metalness:.6,roughness:.4})]}),n.jsxs("mesh",{ref:O,position:[0,-.545,.12],children:[n.jsx("boxGeometry",{args:[.09,.02,.1]}),n.jsx("meshBasicMaterial",{color:te,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,-.505,.05],children:[n.jsx("boxGeometry",{args:[.11,.04,.02]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]})]})]})]}),n.jsxs("group",{ref:T,position:[0,xe,0],children:[n.jsxs("mesh",{position:[0,.15,0],children:[n.jsx("boxGeometry",{args:[q.waistWidth+.04,.22,.18]}),n.jsx("meshStandardMaterial",{color:N,metalness:.5,roughness:.4})]}),n.jsxs("mesh",{position:[0,.38,.01],children:[n.jsx("boxGeometry",{args:[q.shoulderWidth+.06,q.chestHeight,.2]}),n.jsx("meshStandardMaterial",{color:N,metalness:.5,roughness:.4})]}),n.jsxs("mesh",{position:[0,.54,0],children:[n.jsx("cylinderGeometry",{args:[.08,.1,.08,12]}),n.jsx("meshStandardMaterial",{color:X,metalness:.4,roughness:.5})]}),n.jsxs("mesh",{ref:W,position:[0,.54,0],children:[n.jsx("torusGeometry",{args:[.09,.008,8,24]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.8,toneMapped:!1})]}),n.jsxs("mesh",{ref:E,position:[0,.36,.115],children:[n.jsx("sphereGeometry",{args:[.04,16,16]}),n.jsx("meshBasicMaterial",{color:ae,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,.36,.11],children:[n.jsx("torusGeometry",{args:[.05,.008,8,24]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.7,toneMapped:!1})]}),n.jsxs("mesh",{ref:L,position:[0,.44,.115],children:[n.jsx("boxGeometry",{args:[.12,.04,.01]}),n.jsx("meshBasicMaterial",{color:se,transparent:!0,opacity:.8,toneMapped:!1})]}),n.jsxs("mesh",{position:[-.18,.38,.1],children:[n.jsx("boxGeometry",{args:[.02,.08,.01]}),n.jsx("meshBasicMaterial",{color:ee,transparent:!0,opacity:.7,toneMapped:!1})]}),n.jsxs("mesh",{position:[.18,.38,.1],children:[n.jsx("boxGeometry",{args:[.02,.08,.01]}),n.jsx("meshBasicMaterial",{color:ee,transparent:!0,opacity:.7,toneMapped:!1})]}),n.jsxs("mesh",{position:[-.315,.44,0],children:[n.jsx("boxGeometry",{args:[.12,.1,.16]}),n.jsx("meshStandardMaterial",{color:J,metalness:.9,roughness:.15})]}),n.jsxs("mesh",{position:[q.shoulderWidth/2+.04,.44,0],children:[n.jsx("boxGeometry",{args:[.12,.1,.16]}),n.jsx("meshStandardMaterial",{color:J,metalness:.9,roughness:.15})]}),n.jsxs("mesh",{ref:U,position:[-.315,.44,.09],children:[n.jsx("boxGeometry",{args:[.08,.04,.01]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{ref:$,position:[q.shoulderWidth/2+.04,.44,.09],children:[n.jsx("boxGeometry",{args:[.08,.04,.01]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{ref:_,position:[0,.3,-.1],children:[n.jsx("boxGeometry",{args:[.025,.35,.01]}),n.jsx("meshBasicMaterial",{color:ne,transparent:!0,opacity:.8,toneMapped:!1})]}),n.jsxs("mesh",{ref:D,position:[-.08,.35,-.1],children:[n.jsx("boxGeometry",{args:[.015,.25,.01]}),n.jsx("meshBasicMaterial",{color:ee,transparent:!0,opacity:.7,toneMapped:!1})]}),n.jsxs("mesh",{position:[.08,.35,-.1],children:[n.jsx("boxGeometry",{args:[.015,.25,.01]}),n.jsx("meshBasicMaterial",{color:ee,transparent:!0,opacity:.7,toneMapped:!1})]}),n.jsxs("group",{ref:w,position:[-.315,.42,0],children:[n.jsxs("mesh",{position:[-.02,0,0],children:[n.jsx("sphereGeometry",{args:[.06,12,12]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{position:[0,-.17500000000000002,0],children:[n.jsx("capsuleGeometry",{args:[q.armThickness+.01,q.upperArmLength-.1,8,16]}),n.jsx("meshStandardMaterial",{color:N,metalness:.5,roughness:.4})]}),n.jsxs("mesh",{ref:B,position:[-.05,-.17500000000000002,0],children:[n.jsx("boxGeometry",{args:[.012,.18,.025]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,-.17500000000000002,.04],children:[n.jsx("boxGeometry",{args:[.06,.12,.02]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.9,roughness:.1})]}),n.jsxs("group",{ref:S,position:[0,-.35000000000000003,0],children:[n.jsxs("mesh",{position:[0,0,0],children:[n.jsx("sphereGeometry",{args:[.035,12,12]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{position:[0,-.1625,0],children:[n.jsx("capsuleGeometry",{args:[.85*q.armThickness,q.lowerArmLength-.08,8,16]}),n.jsx("meshStandardMaterial",{color:X,metalness:.6,roughness:.4})]}),n.jsxs("mesh",{position:[0,-.275,0],children:[n.jsx("cylinderGeometry",{args:[.045,.05,.07,12]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{ref:ce,position:[0,-.275,.045],children:[n.jsx("boxGeometry",{args:[.04,.05,.01]}),n.jsx("meshBasicMaterial",{color:re,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,-.365,0],children:[n.jsx("sphereGeometry",{args:[.045,12,12]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.9,roughness:.15})]})]})]}),n.jsxs("group",{ref:k,position:[q.shoulderWidth/2+.04,.42,0],children:[n.jsxs("mesh",{position:[.02,0,0],children:[n.jsx("sphereGeometry",{args:[.06,12,12]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{position:[0,-.17500000000000002,0],children:[n.jsx("capsuleGeometry",{args:[q.armThickness+.01,q.upperArmLength-.1,8,16]}),n.jsx("meshStandardMaterial",{color:N,metalness:.5,roughness:.4})]}),n.jsxs("mesh",{ref:P,position:[.05,-.17500000000000002,0],children:[n.jsx("boxGeometry",{args:[.012,.18,.025]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,-.17500000000000002,.04],children:[n.jsx("boxGeometry",{args:[.06,.12,.02]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.9,roughness:.1})]}),n.jsxs("group",{ref:R,position:[0,-.35000000000000003,0],children:[n.jsxs("mesh",{position:[0,0,0],children:[n.jsx("sphereGeometry",{args:[.035,12,12]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{position:[0,-.1625,0],children:[n.jsx("capsuleGeometry",{args:[.85*q.armThickness,q.lowerArmLength-.08,8,16]}),n.jsx("meshStandardMaterial",{color:X,metalness:.6,roughness:.4})]}),n.jsxs("mesh",{position:[0,-.275,0],children:[n.jsx("cylinderGeometry",{args:[.045,.05,.07,12]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{ref:ue,position:[0,-.275,.045],children:[n.jsx("boxGeometry",{args:[.04,.05,.01]}),n.jsx("meshBasicMaterial",{color:re,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,-.365,0],children:[n.jsx("sphereGeometry",{args:[.045,12,12]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.9,roughness:.15})]})]})]}),n.jsxs("group",{ref:A,position:[0,.6,0],children:[n.jsxs("mesh",{position:[0,0,0],children:[n.jsx("cylinderGeometry",{args:[.045,.05,q.neckHeight,12]}),n.jsx("meshStandardMaterial",{color:H,roughness:.85})]}),n.jsxs("mesh",{position:[0,.02,0],children:[n.jsx("torusGeometry",{args:[.052,.008,8,24]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{position:[0,-.01,0],children:[n.jsx("torusGeometry",{args:[.048,.006,8,24]}),n.jsx("meshBasicMaterial",{color:Q,transparent:!0,opacity:.6,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,q.neckHeight/2+q.headRadius,0],children:[n.jsx("sphereGeometry",{args:[q.headRadius,16,16]}),n.jsx("meshStandardMaterial",{color:H,roughness:.85})]}),n.jsxs("mesh",{position:[0,q.neckHeight/2+q.headRadius+.04,-.02],children:[n.jsx("sphereGeometry",{args:[.85*q.headRadius,16,16]}),n.jsx("meshStandardMaterial",{color:le,roughness:.9,metalness:.1})]}),n.jsxs("mesh",{position:[0,q.neckHeight/2+q.headRadius+.08,-.01],children:[n.jsx("boxGeometry",{args:[.08,.04,.12]}),n.jsx("meshStandardMaterial",{color:le,roughness:.9})]}),n.jsxs("mesh",{position:[0,q.neckHeight/2+q.headRadius+.1,-.06],children:[n.jsx("boxGeometry",{args:[.04,.01,.06]}),n.jsx("meshBasicMaterial",{color:ne,transparent:!0,opacity:.5,toneMapped:!1})]}),n.jsxs("mesh",{ref:C,position:[0,q.neckHeight/2+q.headRadius+.01,.088],children:[n.jsx("boxGeometry",{args:[.22,.045,.035]}),n.jsx("meshBasicMaterial",{color:ie,transparent:!0,opacity:.95,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,q.neckHeight/2+q.headRadius+.02,.091],children:[n.jsx("boxGeometry",{args:[.2,.002,.01]}),n.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.4,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,q.neckHeight/2+q.headRadius+.005,.091],children:[n.jsx("boxGeometry",{args:[.2,.002,.01]}),n.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.3,toneMapped:!1})]}),n.jsxs("mesh",{position:[0,q.neckHeight/2+q.headRadius+.01,.08],children:[n.jsx("boxGeometry",{args:[.24,.055,.02]}),n.jsx("meshStandardMaterial",{color:J,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{position:[-.12,q.neckHeight/2+q.headRadius+.01,.04],children:[n.jsx("boxGeometry",{args:[.025,.035,.1]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{position:[.12,q.neckHeight/2+q.headRadius+.01,.04],children:[n.jsx("boxGeometry",{args:[.025,.035,.1]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{position:[-.11,q.neckHeight/2+q.headRadius+.01,.095],children:[n.jsx("boxGeometry",{args:[.015,.04,.01]}),n.jsx("meshBasicMaterial",{color:oe,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{position:[.11,q.neckHeight/2+q.headRadius+.01,.095],children:[n.jsx("boxGeometry",{args:[.015,.04,.01]}),n.jsx("meshBasicMaterial",{color:oe,transparent:!0,opacity:.9,toneMapped:!1})]}),n.jsxs("mesh",{position:[-.1625,q.neckHeight/2+q.headRadius,0],children:[n.jsx("boxGeometry",{args:[.04,.06,.05]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{position:[q.headRadius+.025,q.neckHeight/2+q.headRadius,0],children:[n.jsx("boxGeometry",{args:[.04,.06,.05]}),n.jsx("meshStandardMaterial",{color:Z,metalness:.95,roughness:.1})]}),n.jsxs("mesh",{ref:he,position:[-.1825,q.neckHeight/2+q.headRadius,0],children:[n.jsx("sphereGeometry",{args:[.012,8,8]}),n.jsx("meshBasicMaterial",{color:ee,transparent:!0,opacity:.95,toneMapped:!1})]}),n.jsxs("mesh",{ref:fe,position:[q.headRadius+.045,q.neckHeight/2+q.headRadius,0],children:[n.jsx("sphereGeometry",{args:[.012,8,8]}),n.jsx("meshBasicMaterial",{color:ee,transparent:!0,opacity:.95,toneMapped:!1})]}),n.jsxs("mesh",{position:[-.1375-.035,q.neckHeight/2+q.headRadius+.025,0],children:[n.jsx("sphereGeometry",{args:[.006,8,8]}),n.jsx("meshBasicMaterial",{color:Q,toneMapped:!1})]}),n.jsxs("mesh",{position:[q.headRadius+.035,q.neckHeight/2+q.headRadius+.025,0],children:[n.jsx("sphereGeometry",{args:[.006,8,8]}),n.jsx("meshBasicMaterial",{color:Q,toneMapped:!1})]}),n.jsxs("mesh",{position:[-.1375-.01,q.neckHeight/2+q.headRadius+.03,.04],children:[n.jsx("boxGeometry",{args:[.008,.025,.04]}),n.jsx("meshBasicMaterial",{color:ne,transparent:!0,opacity:.6,toneMapped:!1})]}),n.jsxs("mesh",{position:[q.headRadius+.01,q.neckHeight/2+q.headRadius+.03,.04],children:[n.jsx("boxGeometry",{args:[.008,.025,.04]}),n.jsx("meshBasicMaterial",{color:ne,transparent:!0,opacity:.6,toneMapped:!1})]})]})]}),n.jsx("pointLight",{position:[0,1.2,.5],color:Q,intensity:1.5,distance:3}),n.jsx("pointLight",{position:[0,1.4,.2],color:ae,intensity:.8,distance:2}),n.jsx("pointLight",{position:[-.5,.8,0],color:ee,intensity:.4,distance:1.5}),n.jsx("pointLight",{position:[.5,.8,0],color:ee,intensity:.4,distance:1.5}),n.jsx("pointLight",{position:[0,.1,0],color:Q,intensity:.6,distance:1.5})]})}const ue="#00ffff",de="#ff00aa",pe="#8844ff";function he({position:s,text:r="PRESS SPACE",active:o,color:i=ue}){const a=e.useRef(null),l=e.useRef(100*Math.random()),c=e.useMemo(()=>{const e=document.createElement("canvas");e.width=512,e.height=128;const t=e.getContext("2d");t.fillStyle="transparent",t.fillRect(0,0,e.width,e.height),t.shadowColor=i,t.shadowBlur=20,t.font='bold 48px "Orbitron", "Rajdhani", system-ui, sans-serif',t.fillStyle=i,t.textAlign="center",t.textBaseline="middle",t.fillText(r,e.width/2,e.height/2);const n=new k(e);return n.needsUpdate=!0,n},[r,i]);return t((e,t)=>{a.current&&o&&(l.current+=t,a.current.position.y=s[1]+.1*Math.sin(3*l.current),a.current.rotation.y=.1*Math.sin(.5*l.current))}),o?n.jsxs("group",{ref:a,position:s,children:[n.jsxs("mesh",{position:[0,0,0],children:[n.jsx("planeGeometry",{args:[2.5,.6]}),n.jsx("meshBasicMaterial",{map:c,transparent:!0,opacity:.9,side:M,toneMapped:!1,depthWrite:!1})]}),n.jsxs("mesh",{position:[0,0,-.01],children:[n.jsx("planeGeometry",{args:[2.7,.75]}),n.jsx("shaderMaterial",{transparent:!0,depthWrite:!1,uniforms:{time:{value:0},color:{value:new j(i)}},vertexShader:"\n            varying vec2 vUv;\n            void main() {\n              vUv = uv;\n              gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n          ",fragmentShader:"\n            uniform float time;\n            uniform vec3 color;\n            varying vec2 vUv;\n            void main() {\n              float border = 0.05;\n              float alpha = 0.0;\n\n              // Top border\n              if (vUv.y > 1.0 - border) alpha = 0.6;\n              // Bottom border\n              if (vUv.y < border) alpha = 0.6;\n              // Left border\n              if (vUv.x < border) alpha = 0.6;\n              // Right border\n              if (vUv.x > 1.0 - border) alpha = 0.6;\n\n              // Scanline effect\n              float scanline = sin(vUv.y * 50.0 + time * 5.0) * 0.5 + 0.5;\n              alpha *= 0.5 + scanline * 0.5;\n\n              gl_FragColor = vec4(color, alpha * 0.5);\n            }\n          "})]}),[[-1.35,.38,0,Math.PI],[1.35,.38,0,0],[-1.35,-.38,0,Math.PI],[1.35,-.38,0,0]].map(([e,t,s,r],o)=>n.jsxs("mesh",{position:[e,t,s],rotation:[0,0,r+(o<2?0:Math.PI)],children:[n.jsx("planeGeometry",{args:[.15,.15]}),n.jsx("meshBasicMaterial",{color:i,transparent:!0,opacity:.7,toneMapped:!1})]},o)),n.jsx("pointLight",{color:i,intensity:.5,distance:3})]}):null}function fe({position:s,active:r,color:o=ue,radius:i=1.5}){const a=e.useRef(null),l=e.useRef(0),c=e.useMemo(()=>new v({transparent:!0,depthWrite:!1,side:M,uniforms:{time:{value:0},color:{value:new j(o)},intensity:{value:0}},vertexShader:"\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n      }\n    ",fragmentShader:"\n      uniform float time;\n      uniform vec3 color;\n      uniform float intensity;\n      varying vec2 vUv;\n\n      void main() {\n        vec2 center = vUv - 0.5;\n        float dist = length(center) * 2.0;\n\n        // Ripple effect\n        float ripple1 = sin(dist * 8.0 - time * 4.0) * 0.5 + 0.5;\n        float ripple2 = sin(dist * 12.0 - time * 6.0) * 0.5 + 0.5;\n\n        // Fade at edges\n        float fade = 1.0 - smoothstep(0.3, 1.0, dist);\n\n        // Combine\n        float alpha = (ripple1 * 0.6 + ripple2 * 0.4) * fade * intensity;\n\n        // Grid pattern\n        float gridX = step(0.95, fract(vUv.x * 10.0));\n        float gridY = step(0.95, fract(vUv.y * 10.0));\n        float grid = max(gridX, gridY) * 0.3;\n\n        gl_FragColor = vec4(color, (alpha * 0.6 + grid * fade * intensity * 0.3));\n      }\n    "}),[o]);return t((e,t)=>{l.current+=t;const n=r?1:0;c.uniforms.intensity.value+=(n-c.uniforms.intensity.value)*t*5,c.uniforms.time.value=l.current,a.current&&(a.current.position.x=s[0],a.current.position.z=s[2])}),n.jsxs("mesh",{ref:a,rotation:[-Math.PI/2,0,0],position:[s[0],.02,s[2]],children:[n.jsx("circleGeometry",{args:[i,32]}),n.jsx("primitive",{object:c,attach:"material"})]})}function me({avatarPosition:e,nearMachine:t,nearCouch:s,machinePositions:r,couchPositions:o}){let i=null,a="PRESS SPACE",l=ue;if(t){const e=r.find(e=>e.id===t);e&&(i=[e.x,3.5,e.z+1.5],a="PRESS SPACE TO SPIN",l=de)}else s&&(i=[s.x,2,s.z],a="PRESS SPACE TO SIT",l=pe);const c=null!==t||null!==s;return n.jsxs(n.Fragment,{children:[n.jsx(fe,{position:[e.x,0,e.z],active:c,color:t?de:pe}),i&&n.jsx(he,{position:i,text:a,active:!0,color:l})]})}const xe="#00ffff",ge="#ff00aa",ye="#8844ff",je="#ffd700";function ve({count:s=1e3,active:r=!0,spawnPosition:o=[0,0,0],spawnRadius:i=1,colors:a=[xe,ge,ye,je],gravity:l=-2,lifetime:c=2,baseSize:u=.15,velocityScale:d=3,emissionRate:p=.5}){const h=e.useRef(null),f=e.useRef(null),m=e.useRef(0),x=e.useRef(0),g=e.useMemo(()=>a.map(e=>new j(e)),[a]),{geometry:y,birthTimes:b,velocities:w}=e.useMemo(()=>{const e=new Float32Array(3*s),t=new Float32Array(3*s),n=new Float32Array(s),r=new Float32Array(s),a=new Float32Array(s),l=new Float32Array(3*s);for(let h=0;h<s;h++){const s=3*h;e[s]=o[0]+(Math.random()-.5)*i,e[s+1]=o[1],e[s+2]=o[2]+(Math.random()-.5)*i;const p=Math.random()*Math.PI*2,f=2+Math.random()*d,m=Math.random()*d*.5;t[s]=Math.cos(p)*m,t[s+1]=f,t[s+2]=Math.sin(p)*m,n[h]=-1e3,r[h]=c*(.8+.4*Math.random()),a[h]=u*(.8+.4*Math.random());const x=g[Math.floor(Math.random()*g.length)];l[s]=x.r,l[s+1]=x.g,l[s+2]=x.b}const p=new S;return p.setAttribute("position",new R(e,3)),p.setAttribute("aVelocity",new R(t,3)),p.setAttribute("aBirthTime",new R(n,1)),p.setAttribute("aLifetime",new R(r,1)),p.setAttribute("aSize",new R(a,1)),p.setAttribute("aColor",new R(l,3)),{geometry:p,birthTimes:n,velocities:t}},[s,o,i,d,c,u,g]),M=e.useMemo(()=>new v({uniforms:{uTime:{value:0},uDeltaTime:{value:0},uSpawnPosition:{value:new A(...o)},uSpawnRadius:{value:i},uGravity:{value:l},uDrag:{value:.02},uSpawnRate:{value:p},uParticleLifetime:{value:c},uBaseSize:{value:u},uSizeVariation:{value:.3}},vertexShader:"\n  uniform float uTime;\n  uniform float uDeltaTime;\n  uniform vec3 uSpawnPosition;\n  uniform float uSpawnRadius;\n  uniform float uGravity;\n  uniform float uDrag;\n  uniform float uSpawnRate;\n  uniform float uParticleLifetime;\n  uniform float uBaseSize;\n  uniform float uSizeVariation;\n\n  attribute float aLifetime;\n  attribute float aBirthTime;\n  attribute vec3 aVelocity;\n  attribute float aSize;\n  attribute vec3 aColor;\n\n  varying vec3 vColor;\n  varying float vOpacity;\n\n  // Pseudo-random based on particle index\n  float random(float seed) {\n    return fract(sin(seed * 12.9898) * 43758.5453);\n  }\n\n  void main() {\n    float age = uTime - aBirthTime;\n    float normalizedAge = age / uParticleLifetime;\n\n    // Check if particle is alive\n    if (normalizedAge > 1.0 || normalizedAge < 0.0) {\n      // Dead particle - hide it\n      gl_Position = vec4(0.0, -10000.0, 0.0, 1.0);\n      gl_PointSize = 0.0;\n      vOpacity = 0.0;\n      return;\n    }\n\n    // Physics simulation\n    vec3 pos = position;\n\n    // Apply velocity with drag\n    float dragFactor = pow(1.0 - uDrag, age * 60.0);\n    pos += aVelocity * age * dragFactor;\n\n    // Apply gravity\n    pos.y -= 0.5 * uGravity * age * age;\n\n    // Spiral motion (optional, looks cool)\n    float spiralAngle = age * 3.0;\n    float spiralRadius = age * 0.5;\n    pos.x += cos(spiralAngle + position.x * 10.0) * spiralRadius * 0.3;\n    pos.z += sin(spiralAngle + position.z * 10.0) * spiralRadius * 0.3;\n\n    // Transform to clip space\n    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n    gl_Position = projectionMatrix * mvPosition;\n\n    // Size with distance attenuation\n    float size = aSize * (1.0 - normalizedAge * 0.5);\n    gl_PointSize = size * (300.0 / -mvPosition.z);\n\n    // Color and opacity\n    vColor = aColor;\n    vOpacity = 1.0 - normalizedAge;\n  }\n",fragmentShader:"\n  varying vec3 vColor;\n  varying float vOpacity;\n\n  void main() {\n    // Circular particle with soft edge\n    vec2 center = gl_PointCoord - vec2(0.5);\n    float dist = length(center);\n\n    // Discard pixels outside circle\n    if (dist > 0.5) discard;\n\n    // Soft falloff\n    float alpha = smoothstep(0.5, 0.2, dist) * vOpacity;\n\n    // Additive blending looks better for neon\n    gl_FragColor = vec4(vColor * 1.5, alpha);\n  }\n",transparent:!0,depthWrite:!1,blending:T}),[o,i,l,p,c,u]);return t((e,t)=>{if(!f.current||!h.current)return;const n=e.clock.elapsedTime;if(f.current.uniforms.uTime.value=n,f.current.uniforms.uDeltaTime.value=t,r){const e=y.attributes.aBirthTime,t=e.array,r=y.attributes.position,a=r.array,l=y.attributes.aVelocity,u=l.array,h=1/(s*p/c),f=Math.floor((n-x.current)/h);for(let c=0;c<f&&c<50;c++){const e=m.current%s,r=3*e;t[e]=n,a[r]=o[0]+(Math.random()-.5)*i,a[r+1]=o[1],a[r+2]=o[2]+(Math.random()-.5)*i;const l=Math.random()*Math.PI*2,c=2+Math.random()*d,p=Math.random()*d*.5;u[r]=Math.cos(l)*p,u[r+1]=c,u[r+2]=Math.sin(l)*p,m.current++}f>0&&(x.current=n,e.needsUpdate=!0,r.needsUpdate=!0,l.needsUpdate=!0)}}),e.useEffect(()=>{f.current&&f.current.uniforms.uSpawnPosition.value.set(...o)},[o]),n.jsx("points",{ref:h,geometry:y,children:n.jsx("primitive",{ref:f,object:M,attach:"material"})})}function be({position:e,active:t,isJackpot:s=!1}){return t?n.jsx(ve,{count:s?2e3:800,active:t,spawnPosition:e,spawnRadius:s?1.5:.8,colors:s?[je,"#ffff00","#ffaa00",ge]:[xe,ge,ye],gravity:s?-1.5:-2,lifetime:s?2.5:1.5,baseSize:s?.2:.15,velocityScale:s?5:3,emissionRate:s?.8:.5}):null}function we({count:s=500,area:r=[50,8,40],color:o="#ffffff",opacity:i=.3,size:a=.05}){const l=e.useRef(null),c=e.useRef(),{positions:u,velocities:d}=e.useMemo(()=>{const e=new Float32Array(3*s),t=new Float32Array(3*s);for(let n=0;n<s;n++){const s=3*n;e[s]=(Math.random()-.5)*r[0],e[s+1]=Math.random()*r[1],e[s+2]=(Math.random()-.5)*r[2]+5,t[s]=.02*(Math.random()-.5),t[s+1]=.01*Math.random()+.002,t[s+2]=.02*(Math.random()-.5)}return c.current=t,{positions:e,velocities:t}},[s,r]);return t((e,t)=>{if(!l.current||!c.current)return;const n=l.current.geometry.attributes.position.array,o=c.current;for(let i=0;i<s;i++){const e=3*i;n[e]+=o[e]*t*60,n[e+1]+=o[e+1]*t*60,n[e+2]+=o[e+2]*t*60,n[e]>r[0]/2&&(n[e]=-r[0]/2),n[e]<-r[0]/2&&(n[e]=r[0]/2),n[e+1]>r[1]&&(n[e+1]=0),n[e+2]>r[2]/2+5&&(n[e+2]=-r[2]/2+5),n[e+2]<-r[2]/2+5&&(n[e+2]=r[2]/2+5),o[e]+=.001*(Math.random()-.5),o[e+1]+=5e-4*(Math.random()-.5),o[e+2]+=.001*(Math.random()-.5),o[e]=Math.max(-.03,Math.min(.03,o[e])),o[e+1]=Math.max(.001,Math.min(.02,o[e+1])),o[e+2]=Math.max(-.03,Math.min(.03,o[e+2]))}l.current.geometry.attributes.position.needsUpdate=!0}),n.jsxs("points",{ref:l,children:[n.jsx("bufferGeometry",{children:n.jsx("bufferAttribute",{attach:"attributes-position",count:s,array:u,itemSize:3})}),n.jsx("pointsMaterial",{color:o,size:a,transparent:!0,opacity:i,sizeAttenuation:!0,blending:T,depthWrite:!1})]})}const Me={low:{ssaoSamples:8,ssaoRings:2,ssaoRadius:.05,bloomIntensity:.6,bloomLevels:3,chromaticOffset:.001,noiseIntensity:.02,multisampling:0},medium:{ssaoSamples:16,ssaoRings:3,ssaoRadius:.08,bloomIntensity:.8,bloomLevels:4,chromaticOffset:.0015,noiseIntensity:.025,multisampling:2},high:{ssaoSamples:24,ssaoRings:4,ssaoRadius:.1,bloomIntensity:1,bloomLevels:5,chromaticOffset:.002,noiseIntensity:.03,multisampling:4},ultra:{ssaoSamples:32,ssaoRings:5,ssaoRadius:.12,bloomIntensity:1.2,bloomLevels:6,chromaticOffset:.0025,noiseIntensity:.035,multisampling:8}};function ke({quality:e="medium",enabled:t=!0,enableSSAO:s=!1,enableBloom:r=!0,enableChromatic:h=!0,enableVignette:f=!0,enableNoise:m=!1}){const x=Me[e];if(!t)return null;const g=[];return s&&g.push(n.jsx(o,{blendFunction:i.MULTIPLY,samples:x.ssaoSamples,rings:x.ssaoRings,radius:x.ssaoRadius,intensity:1.5,luminanceInfluence:.5,bias:.025,distanceScaling:!0,depthAwareUpsampling:!0},"ssao")),r&&g.push(n.jsx(a,{intensity:x.bloomIntensity,luminanceThreshold:.4,luminanceSmoothing:.9,mipmapBlur:!0,kernelSize:l.MEDIUM,levels:x.bloomLevels},"bloom")),h&&g.push(n.jsx(c,{offset:new z(x.chromaticOffset,x.chromaticOffset),radialModulation:!0,modulationOffset:.5},"chromatic")),f&&g.push(n.jsx(u,{offset:.3,darkness:.5,eskil:!1},"vignette")),m&&g.push(n.jsx(d,{premultiply:!0,blendFunction:i.ADD,opacity:x.noiseIntensity},"noise")),n.jsx(p,{multisampling:x.multisampling,children:g})}function Se({onRetry:t}){const[s,r]=e.useState(3);return e.useEffect(()=>{if(s>0){const e=setTimeout(()=>r(s-1),1e3);return()=>clearTimeout(e)}window.location.reload()},[s]),n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#050508",zIndex:1e4,fontFamily:"system-ui, -apple-system, sans-serif"},children:n.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"linear-gradient(135deg, #0a0a14 0%, #1a1028 50%, #0a0814 100%)",border:`2px solid ${ge}`,borderRadius:"16px",boxShadow:`0 0 60px ${ge}40`},children:[n.jsx("h1",{style:{color:xe,fontSize:"32px",margin:"0 0 20px 0",textShadow:`0 0 20px ${xe}`},children:"Graphics Reset"}),n.jsxs("p",{style:{color:"#aaaacc",fontSize:"16px",margin:"0 0 30px 0"},children:["Your graphics driver was reset.",n.jsx("br",{}),"Reloading in ",s,"..."]}),n.jsx("button",{onClick:t||(()=>window.location.reload()),style:{padding:"12px 30px",fontSize:"16px",fontWeight:"bold",color:"#000",background:`linear-gradient(135deg, ${xe}, ${ge})`,border:"none",borderRadius:"8px",cursor:"pointer",transition:"transform 0.1s"},onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)",children:"Reload Now"})]})})}function Re(){return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#050508",fontFamily:"system-ui, -apple-system, sans-serif",padding:"20px"},children:n.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[n.jsx("h1",{style:{color:ge,fontSize:"28px",margin:"0 0 20px 0"},children:"WebGL Not Available"}),n.jsx("p",{style:{color:"#aaaacc",fontSize:"16px",lineHeight:1.6,margin:"0 0 30px 0"},children:"This experience requires WebGL to run. Please try one of the following:"}),n.jsxs("ul",{style:{color:"#888899",fontSize:"14px",textAlign:"left",lineHeight:1.8},children:[n.jsx("li",{children:"Update your browser to the latest version"}),n.jsx("li",{children:"Enable hardware acceleration in browser settings"}),n.jsx("li",{children:"Try a different browser (Chrome, Firefox, Edge)"}),n.jsx("li",{children:"Update your graphics drivers"})]}),n.jsx("div",{style:{marginTop:"30px",padding:"20px",background:"rgba(136, 68, 255, 0.1)",border:`1px solid ${ye}`,borderRadius:"8px"},children:n.jsxs("p",{style:{color:xe,margin:0},children:["Contact: ",n.jsx("a",{href:"mailto:email@vanvinkl.com",style:{color:xe},children:"email@vanvinkl.com"})]})})]})})}class Te extends e.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("[WebGL Error]",e,t),"undefined"!=typeof window&&window.gtag&&window.gtag("event","webgl_error",{error_message:e.message,error_stack:e.stack})}handleRetry=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#050508",fontFamily:"system-ui, -apple-system, sans-serif"},children:n.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"linear-gradient(135deg, #0a0a14 0%, #1a1028 50%, #0a0814 100%)",border:`2px solid ${ge}`,borderRadius:"16px"},children:[n.jsx("h1",{style:{color:ge,fontSize:"28px",margin:"0 0 20px 0"},children:"Something Went Wrong"}),n.jsx("p",{style:{color:"#aaaacc",fontSize:"14px",margin:"0 0 20px 0",maxWidth:"400px"},children:this.state.error?.message||"An unexpected error occurred"}),n.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[n.jsx("button",{onClick:this.handleRetry,style:{padding:"10px 25px",fontSize:"14px",color:xe,background:"transparent",border:`1px solid ${xe}`,borderRadius:"6px",cursor:"pointer"},children:"Try Again"}),n.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 25px",fontSize:"14px",fontWeight:"bold",color:"#000",background:xe,border:"none",borderRadius:"6px",cursor:"pointer"},children:"Reload Page"})]})]})}):this.props.children}}function Ae(){return function(){const{gl:t}=h(),[n,s]=e.useState(!1);e.useEffect(()=>{const e=t.domElement,n=e=>{e.preventDefault(),console.error("[WebGL] Context lost"),s(!0)},r=()=>{console.log("[WebGL] Context restored"),s(!1),setTimeout(()=>window.location.reload(),500)};return e.addEventListener("webglcontextlost",n),e.addEventListener("webglcontextrestored",r),()=>{e.removeEventListener("webglcontextlost",n),e.removeEventListener("webglcontextrestored",r)}},[t])}(),null}const ze={casinoHum:"/audio/ambient/casino-hum.wav",neonBuzz:"/audio/ambient/neon-buzz.wav",spinLoop:"/audio/slots/spin-loop.wav",reelStop1:"/audio/slots/reel-stop-1.wav",reelStop2:"/audio/slots/reel-stop-2.wav",reelStop3:"/audio/slots/reel-stop-3.wav",winSmall:"/audio/slots/win-small.wav",winBig:"/audio/slots/win-big.wav",jackpot:"/audio/slots/jackpot.wav",hover:"/audio/ui/hover.wav",click:"/audio/ui/click.wav",modalOpen:"/audio/ui/modal-open.wav",modalClose:"/audio/ui/modal-close.wav",navTick:"/audio/ui/nav-tick.wav",navSelect:"/audio/ui/nav-select.wav",navBack:"/audio/ui/nav-back.wav",contentReveal:"/audio/ui/content-reveal.wav",phaseTransition:"/audio/ui/phase-transition.wav",footstep1:"/audio/player/footstep-1.wav",footstep2:"/audio/player/footstep-2.wav",footstep3:"/audio/player/footstep-3.wav",sit:"/audio/player/sit.wav"};const Ce=new class{context=null;buffers=new Map;buses=new Map;pools=new Map;spatialSources=new Map;listenerPosition=[0,0,0];listenerForward=[0,0,-1];initialized=!1;loadingPromise=null;compressor=null;analyser=null;analyserData=null;isDucking=!1;duckingTargets=new Map;POOL_SIZE=8;busVolumes={master:.8,ambient:.4,sfx:.7,slots:.8,ui:.6};async init(){if(!this.initialized)return this.loadingPromise||(this.loadingPromise=this._init()),this.loadingPromise}async _init(){try{this.context=new AudioContext({latencyHint:"interactive",sampleRate:44100}),"suspended"===this.context.state&&await this.context.resume(),this.createBuses(),await this.loadAllSounds(),this.createPools(),this.initialized=!0,console.log("[AudioSystem] Initialized successfully")}catch(e){throw console.error("[AudioSystem] Init failed:",e),e}}createBuses(){if(!this.context)return;this.compressor=this.context.createDynamicsCompressor(),this.compressor.threshold.value=-24,this.compressor.knee.value=12,this.compressor.ratio.value=4,this.compressor.attack.value=.003,this.compressor.release.value=.25,this.compressor.connect(this.context.destination),this.analyser=this.context.createAnalyser(),this.analyser.fftSize=256,this.analyser.smoothingTimeConstant=.8,this.analyserData=new Uint8Array(this.analyser.frequencyBinCount);const e=this.context.createGain();e.gain.value=this.busVolumes.master,e.connect(this.analyser),this.analyser.connect(this.compressor),this.buses.set("master",e);const t=this.context.createConvolver(),n=this.context.createGain();n.gain.value=.15,t.connect(n),n.connect(e),this.generateImpulseResponse(t);const s=["ambient","sfx","slots","ui"];for(const r of s){const n=this.context.createGain();if(n.gain.value=this.busVolumes[r],n.connect(e),"sfx"===r||"slots"===r){const e=this.context.createGain();e.gain.value=.3,n.connect(e),e.connect(t)}this.buses.set(r,n)}}generateImpulseResponse(e){if(!this.context)return;const t=this.context.sampleRate,n=.8*t,s=this.context.createBuffer(2,n,t);for(let r=0;r<2;r++){const e=s.getChannelData(r);for(let t=0;t<n;t++){const s=Math.exp(-3*t/n);e[t]=(2*Math.random()-1)*s}}e.buffer=s}async loadAllSounds(){if(!this.context)return;const e=Object.entries(ze).map(async([e,t])=>{try{const n=await fetch(t);if(!n.ok)return void console.warn(`[AudioSystem] Sound not found: ${t}`);const s=await n.arrayBuffer(),r=await this.context.decodeAudioData(s);this.buffers.set(e,r)}catch(n){console.warn(`[AudioSystem] Failed to load ${t}:`,n)}});await Promise.all(e),console.log(`[AudioSystem] Loaded ${this.buffers.size}/${Object.keys(ze).length} sounds`)}createPools(){if(!this.context)return;const e=["hover","click","footstep1","footstep2","footstep3","reelStop1","reelStop2","reelStop3"];for(const t of e){const e=[],n=this.getBusForSound(t);for(let t=0;t<this.POOL_SIZE;t++){const t=this.context.createGain();t.connect(n),e.push({source:null,gain:t,panner:null,playing:!1})}this.pools.set(t,e)}}getBusForSound(e){return e.startsWith("hover")||e.startsWith("click")||e.startsWith("modal")?this.buses.get("ui"):e.startsWith("footstep")||"sit"===e?this.buses.get("sfx"):e.startsWith("spin")||e.startsWith("reel")||e.startsWith("win")||"jackpot"===e?this.buses.get("slots"):"casinoHum"===e||"neonBuzz"===e?this.buses.get("ambient"):this.buses.get("sfx")}play(e,t){if(!this.initialized||!this.context)return;const n=this.buffers.get(e);if(!n)return void console.warn(`[AudioSystem] Buffer not loaded: ${e}`);const s=this.pools.get(e);s?this.playPooled(e,n,s,t):this.playDirect(e,n,t)}playPooled(e,t,n,s){let r=n.find(e=>!e.playing);r||(r=n[0],r.source&&(r.source.stop(),r.source.disconnect()));const o=this.context.createBufferSource();o.buffer=t,o.loop=s?.loop??!1,o.playbackRate.value=s?.playbackRate??1,r.gain.gain.value=s?.volume??1,o.connect(r.gain),o.start(0),r.source=o,r.playing=!0,o.onended=()=>{r.playing=!1,r.source=null}}playDirect(e,t,n){const s=this.context.createBufferSource();s.buffer=t,s.loop=n?.loop??!1,s.playbackRate.value=n?.playbackRate??1;const r=this.context.createGain();r.gain.value=n?.volume??1;const o=this.getBusForSound(e);s.connect(r),r.connect(o),s.start(0)}playSpatial(e,t,n,s){if(!this.initialized||!this.context)return;const r=this.buffers.get(t);if(!r)return;this.stopSpatial(e);const o=this.context.createPanner();o.panningModel="HRTF",o.distanceModel="inverse",o.refDistance=s?.refDistance??1,o.maxDistance=s?.maxDistance??50,o.rolloffFactor=s?.rolloffFactor??1,o.setPosition(n[0],n[1],n[2]);const i=this.context.createGain();i.gain.value=s?.volume??1;const a=this.context.createBufferSource();a.buffer=r,a.loop=s?.loop??!1,a.connect(o),o.connect(i),i.connect(this.buses.get("ambient")),a.start(0),this.spatialSources.set(e,{panner:o,gain:i,source:a,soundId:t,loop:s?.loop??!1}),s?.loop||(a.onended=()=>{this.spatialSources.delete(e)})}updateSpatialPosition(e,t){const n=this.spatialSources.get(e);n&&n.panner.setPosition(t[0],t[1],t[2])}stopSpatial(e){const t=this.spatialSources.get(e);t&&t.source&&(t.source.stop(),t.source.disconnect(),t.panner.disconnect(),t.gain.disconnect(),this.spatialSources.delete(e))}updateListener(e,t,n=[0,1,0]){if(!this.context)return;const s=this.context.listener;s.positionX?(s.positionX.value=e[0],s.positionY.value=e[1],s.positionZ.value=e[2]):s.setPosition(e[0],e[1],e[2]),s.forwardX?(s.forwardX.value=t[0],s.forwardY.value=t[1],s.forwardZ.value=t[2],s.upX.value=n[0],s.upY.value=n[1],s.upZ.value=n[2]):s.setOrientation(t[0],t[1],t[2],n[0],n[1],n[2]),this.listenerPosition=e,this.listenerForward=t}setBusVolume(e,t){const n=this.buses.get(e);n&&(n.gain.value=Math.max(0,Math.min(1,t)),this.busVolumes[e]=t)}getBusVolume(e){return this.busVolumes[e]}setMuted(e){const t=this.buses.get("master");t&&(t.gain.value=e?0:this.busVolumes.master)}async resume(){"suspended"===this.context?.state&&await this.context.resume()}startDucking(e=.3,t=.3){if(!this.context||this.isDucking)return;this.isDucking=!0;const n=this.context.currentTime,s=["ambient","sfx","ui"];for(const r of s){const s=this.buses.get(r);s&&(this.duckingTargets.set(r,s.gain.value),s.gain.setValueAtTime(s.gain.value,n),s.gain.linearRampToValueAtTime(s.gain.value*e,n+t))}}stopDucking(e=.5){if(!this.context||!this.isDucking)return;this.isDucking=!1;const t=this.context.currentTime;for(const[n,s]of this.duckingTargets){const r=this.buses.get(n);r&&(r.gain.setValueAtTime(r.gain.value,t),r.gain.linearRampToValueAtTime(s,t+e))}this.duckingTargets.clear()}getFrequencyData(){return this.analyser&&this.analyserData?(this.analyser.getByteFrequencyData(this.analyserData),this.analyserData):null}getAverageVolume(){const e=this.getFrequencyData();if(!e)return 0;let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/(255*e.length)}getBassLevel(){const e=this.getFrequencyData();if(!e)return 0;let t=0;const n=Math.min(8,e.length);for(let s=0;s<n;s++)t+=e[s];return t/(255*n)}dispose(){for(const[e]of this.spatialSources)this.stopSpatial(e);this.context&&(this.context.close(),this.context=null),this.buffers.clear(),this.buses.clear(),this.pools.clear(),this.initialized=!1}isInitialized(){return this.initialized}};const Ee=new class{context=null;getContext(){return this.context||(this.context=new AudioContext({latencyHint:"interactive"})),"suspended"===this.context.state&&this.context.resume(),this.context}play(e,t=.5){try{const n=this.getContext(),s=n.currentTime;switch(e){case"tick":this.playTick(n,s,t);break;case"select":this.playSelect(n,s,t);break;case"back":this.playBack(n,s,t);break;case"whoosh":this.playWhoosh(n,s,t);break;case"swoosh":this.playSwoosh(n,s,t);break;case"reveal":this.playReveal(n,s,t);break;case"transition":this.playTransition(n,s,t);break;case"win":this.playWin(n,s,t);break;case"jackpot":this.playJackpot(n,s,t)}}catch(n){console.warn("[SynthSounds] Failed to play:",n)}}playTick(e,t,n){const s=e.createOscillator(),r=e.createGain();s.type="sine",s.frequency.setValueAtTime(2e3,t),s.frequency.exponentialRampToValueAtTime(1500,t+.02),r.gain.setValueAtTime(.3*n,t),r.gain.exponentialRampToValueAtTime(.001,t+.05),s.connect(r),r.connect(e.destination),s.start(t),s.stop(t+.05)}playSelect(e,t,n){const s=e.createOscillator(),r=e.createGain();s.type="sine",s.frequency.setValueAtTime(800,t),r.gain.setValueAtTime(.4*n,t),r.gain.exponentialRampToValueAtTime(.001,t+.1),s.connect(r),r.connect(e.destination),s.start(t),s.stop(t+.1);const o=e.createOscillator(),i=e.createGain();o.type="sine",o.frequency.setValueAtTime(1200,t+.05),i.gain.setValueAtTime(0,t),i.gain.setValueAtTime(.4*n,t+.05),i.gain.exponentialRampToValueAtTime(.001,t+.15),o.connect(i),i.connect(e.destination),o.start(t+.05),o.stop(t+.15)}playBack(e,t,n){const s=e.createOscillator(),r=e.createGain();s.type="sine",s.frequency.setValueAtTime(600,t),s.frequency.exponentialRampToValueAtTime(300,t+.12),r.gain.setValueAtTime(.35*n,t),r.gain.exponentialRampToValueAtTime(.001,t+.12),s.connect(r),r.connect(e.destination),s.start(t),s.stop(t+.12)}playWhoosh(e,t,n){const s=.2*e.sampleRate,r=e.createBuffer(1,s,e.sampleRate),o=r.getChannelData(0);for(let c=0;c<s;c++){const e=c/s;o[c]=(2*Math.random()-1)*Math.sin(e*Math.PI)*(1-.5*e)}const i=e.createBufferSource();i.buffer=r;const a=e.createBiquadFilter();a.type="bandpass",a.frequency.setValueAtTime(500,t),a.frequency.exponentialRampToValueAtTime(3e3,t+.15),a.Q.value=2;const l=e.createGain();l.gain.setValueAtTime(.4*n,t),l.gain.exponentialRampToValueAtTime(.001,t+.2),i.connect(a),a.connect(l),l.connect(e.destination),i.start(t)}playSwoosh(e,t,n){const s=.15*e.sampleRate,r=e.createBuffer(1,s,e.sampleRate),o=r.getChannelData(0);for(let c=0;c<s;c++){const e=c/s;o[c]=(2*Math.random()-1)*Math.sin(e*Math.PI)*e}const i=e.createBufferSource();i.buffer=r;const a=e.createBiquadFilter();a.type="bandpass",a.frequency.setValueAtTime(2500,t),a.frequency.exponentialRampToValueAtTime(400,t+.12),a.Q.value=1.5;const l=e.createGain();l.gain.setValueAtTime(.35*n,t),l.gain.exponentialRampToValueAtTime(.001,t+.15),i.connect(a),a.connect(l),l.connect(e.destination),i.start(t)}playReveal(e,t,n){[523.25,659.25,783.99].forEach((s,r)=>{const o=e.createOscillator(),i=e.createGain();o.type="sine",o.frequency.setValueAtTime(s,t+.03*r),i.gain.setValueAtTime(0,t),i.gain.setValueAtTime(.2*n,t+.03*r),i.gain.exponentialRampToValueAtTime(.001,t+.4),o.connect(i),i.connect(e.destination),o.start(t+.03*r),o.stop(t+.4)})}playTransition(e,t,n){const s=e.createOscillator(),r=e.createGain();s.type="sawtooth",s.frequency.setValueAtTime(200,t),s.frequency.exponentialRampToValueAtTime(800,t+.1),s.frequency.exponentialRampToValueAtTime(400,t+.2);const o=e.createBiquadFilter();o.type="lowpass",o.frequency.setValueAtTime(1e3,t),o.frequency.exponentialRampToValueAtTime(4e3,t+.1),o.frequency.exponentialRampToValueAtTime(500,t+.2),r.gain.setValueAtTime(.25*n,t),r.gain.exponentialRampToValueAtTime(.001,t+.25),s.connect(o),o.connect(r),r.connect(e.destination),s.start(t),s.stop(t+.25)}playWin(e,t,n){[523.25,659.25,783.99,1046.5].forEach((s,r)=>{const o=e.createOscillator(),i=e.createGain();o.type="triangle",o.frequency.value=s;const a=t+.08*r;i.gain.setValueAtTime(0,t),i.gain.setValueAtTime(.3*n,a),i.gain.exponentialRampToValueAtTime(.001,a+.2),o.connect(i),i.connect(e.destination),o.start(a),o.stop(a+.2)})}playJackpot(e,t,n){const s=e.createOscillator(),r=e.createGain();s.type="sine",s.frequency.setValueAtTime(80,t),r.gain.setValueAtTime(.5*n,t),r.gain.exponentialRampToValueAtTime(.001,t+.5),s.connect(r),r.connect(e.destination),s.start(t),s.stop(t+.5);[{freq:261.63,delay:0},{freq:329.63,delay:.05},{freq:392,delay:.1},{freq:523.25,delay:.15},{freq:659.25,delay:.2},{freq:783.99,delay:.25},{freq:1046.5,delay:.3}].forEach(({freq:s,delay:r})=>{const o=e.createOscillator(),i=e.createGain();o.type="triangle",o.frequency.value=s;const a=t+r;i.gain.setValueAtTime(0,t),i.gain.setValueAtTime(.25*n,a),i.gain.setValueAtTime(.25*n,a+.3),i.gain.exponentialRampToValueAtTime(.001,a+.8),o.connect(i),i.connect(e.destination),o.start(a),o.stop(a+.8)});const o=1*e.sampleRate,i=e.createBuffer(1,o,e.sampleRate),a=i.getChannelData(0);for(let d=0;d<o;d++)a[d]=.3*(2*Math.random()-1);const l=e.createBufferSource();l.buffer=i;const c=e.createBiquadFilter();c.type="highpass",c.frequency.value=8e3;const u=e.createGain();u.gain.setValueAtTime(0,t),u.gain.linearRampToValueAtTime(.15*n,t+.2),u.gain.exponentialRampToValueAtTime(.001,t+1),l.connect(c),c.connect(u),u.connect(e.destination),l.start(t)}},Ge=(e=.5)=>Ee.play("win",e),Ie=(e=.6)=>Ee.play("jackpot",e);function Le(e,t=1){Ce.play(e,{volume:t})}let Be=0;function Pe(e,t=.7){const n=["reelStop1","reelStop2","reelStop3"],s=Math.min(e,n.length-1);Ce.play(n[s],{volume:t})}function De(e=.4){Ce.isInitialized()&&Ce.play("navTick",{volume:e,playbackRate:1.2}),((e=.4)=>{Ee.play("tick",e)})(e)}function Ve(e=.6){Ce.isInitialized()&&Ce.play("navSelect",{volume:e}),((e=.5)=>{Ee.play("select",e)})(e)}function Oe(e=.5){Ce.isInitialized()&&Ce.play("navBack",{volume:e}),((e=.4)=>{Ee.play("back",e)})(e)}function Fe(e=.6){Ce.isInitialized()&&Ce.play("modalOpen",{volume:e}),((e=.5)=>{Ee.play("whoosh",e)})(e)}function We(e=.5){Ce.isInitialized()&&Ce.play("modalClose",{volume:e}),((e=.4)=>{Ee.play("swoosh",e)})(e)}function Ue(e=.5){Ce.isInitialized()&&Ce.play("contentReveal",{volume:e}),((e=.5)=>{Ee.play("reveal",e)})(e)}function $e(e=.4){Ce.isInitialized()&&Ce.play("phaseTransition",{volume:e}),((e=.4)=>{Ee.play("transition",e)})(e)}function _e(e=.3,t=.3){Ce.startDucking(e,t)}function qe(e=.5){Ce.stopDucking(e)}const He=[{id:"first_spin",title:"First Roll",description:"Spin the slot machine for the first time",icon:"ðŸŽ°"},{id:"visit_skills",title:"Skill Scout",description:"Visit the Skills section",icon:"âš¡"},{id:"visit_projects",title:"Project Explorer",description:"Visit the Projects section",icon:"ðŸš€"},{id:"visit_experience",title:"Time Traveler",description:"Visit the Experience section",icon:"â³"},{id:"visit_services",title:"Service Seeker",description:"Visit the Services section",icon:"ðŸ’¼"},{id:"visit_about",title:"Get to Know Me",description:"Visit the About section",icon:"ðŸ‘¤"},{id:"visit_all",title:"Grand Tour",description:"Visit all sections",icon:"ðŸ†"},{id:"ten_spins",title:"High Roller",description:"Spin 10 times",icon:"ðŸŽ²"},{id:"jackpot",title:"Jackpot!",description:"Hit a jackpot combination",icon:"ðŸ’Ž"},{id:"detail_view",title:"Deep Dive",description:"Open a detail modal",icon:"ðŸ”"},{id:"konami",title:"Old School Gamer",description:"Enter the Konami code",icon:"ðŸŽ®",secret:!0},{id:"night_owl",title:"Night Owl",description:"Browse after midnight",icon:"ðŸ¦‰",secret:!0},{id:"early_bird",title:"Early Bird",description:"Browse before 6 AM",icon:"ðŸ¦",secret:!0},{id:"speed_demon",title:"Speed Demon",description:"Visit all sections in under 60 seconds",icon:"âš¡",secret:!0}],Ne="vanvinkl-achievements";const Xe=new class{achievements=new Map;listeners=new Set;visitedSections=new Set;spinCount=0;firstVisitTime=0;constructor(){this.loadFromStorage(),this.firstVisitTime=Date.now()}loadFromStorage(){try{const e=localStorage.getItem(Ne),t=e?JSON.parse(e):{};He.forEach(e=>{const n=t[e.id];this.achievements.set(e.id,{...e,unlocked:n?.unlocked??!1,unlockedAt:n?.unlockedAt})})}catch(e){console.warn("[Achievements] Failed to load:",e),He.forEach(e=>{this.achievements.set(e.id,{...e,unlocked:!1})})}}saveToStorage(){const e={};this.achievements.forEach((t,n)=>{e[n]={unlocked:t.unlocked,unlockedAt:t.unlockedAt}}),localStorage.setItem(Ne,JSON.stringify(e))}unlock(e){const t=this.achievements.get(e);return!(!t||t.unlocked)&&(t.unlocked=!0,t.unlockedAt=Date.now(),this.saveToStorage(),this.listeners.forEach(e=>e(t)),console.log(`[Achievement] Unlocked: ${t.title}`),!0)}getAll(){return Array.from(this.achievements.values())}getUnlocked(){return this.getAll().filter(e=>e.unlocked)}getVisible(){return this.getAll().filter(e=>e.unlocked||!e.secret)}isUnlocked(e){return this.achievements.get(e)?.unlocked??!1}onUnlock(e){return this.listeners.add(e),()=>this.listeners.delete(e)}trackSpin(){this.spinCount++,1===this.spinCount&&this.unlock("first_spin"),10===this.spinCount&&this.unlock("ten_spins")}trackSectionVisit(e){const t={skills:"visit_skills",projects:"visit_projects",experience:"visit_experience",services:"visit_services",about:"visit_about"};if(t[e]){this.unlock(t[e]),this.visitedSections.add(e);["skills","projects","experience","services","about"].every(e=>this.visitedSections.has(e))&&(this.unlock("visit_all"),Date.now()-this.firstVisitTime<6e4&&this.unlock("speed_demon"))}}trackJackpot(){this.unlock("jackpot")}trackDetailView(){this.unlock("detail_view")}trackKonami(){this.unlock("konami")}checkTimeAchievements(){const e=(new Date).getHours();e>=0&&e<6&&(this.unlock("night_owl"),this.unlock("early_bird"))}getCompletionPercent(){const e=this.achievements.size,t=this.getUnlocked().length;return Math.round(t/e*100)}};Xe.checkTimeAchievements();const Ye={floor:new C({color:"#1a1520",metalness:.4,roughness:.7}),wall:new C({color:"#1a1420",metalness:.6,roughness:.4}),ceiling:new C({color:"#151218",metalness:.7,roughness:.3}),ceilingPanel:new C({color:"#201828",metalness:.8,roughness:.2}),velvetPurple:new C({color:"#6b2d7b",metalness:.05,roughness:.9}),velvetTeal:new C({color:"#1a5c6b",metalness:.05,roughness:.9}),velvetWine:new C({color:"#7b2d4a",metalness:.05,roughness:.9}),goldChrome:new C({color:"#c9a227",metalness:1,roughness:.15}),chrome:new C({color:"#666",metalness:1,roughness:.1}),glass:new C({color:"#ffffff",metalness:.1,roughness:.05,transparent:!0,opacity:.25}),darkMetal:new C({color:"#0a0a12",metalness:.7,roughness:.3}),barTop:new C({color:"#1a1a28",metalness:.8,roughness:.2}),barBody:new C({color:"#080810",metalness:.6,roughness:.4}),barShelf:new C({color:"#0a0a14",metalness:.5,roughness:.5}),velvetRope:new C({color:"#8B0020",metalness:.2,roughness:.8})},Ke="#ff00aa",Ze="#00ffff",Je="#8844ff",Qe="#ffd700",et=[{id:"skills",label:"SKILLS",x:-15},{id:"services",label:"SERVICES",x:-9},{id:"about",label:"ABOUT",x:-3},{id:"projects",label:"PROJECTS",x:3},{id:"experience",label:"EXPERIENCE",x:9},{id:"contact",label:"CONTACT",x:15}];function tt({color:s,position:r,size:o,pulse:i=!1,audioReactive:a=!1}){const l=e.useMemo(()=>i||a?new v({uniforms:{color:{value:new j(s)},time:{value:0},bass:{value:0}},vertexShader:"\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:a?"\n        uniform vec3 color;\n        uniform float time;\n        uniform float bass;\n        varying vec2 vUv;\n        void main() {\n          // Bass-reactive pulse with wave effect\n          float bassPulse = 0.5 + bass * 1.5;\n          float wave = sin(time * 2.0 + vUv.x * 8.0) * 0.15;\n          float intensity = bassPulse + wave;\n          // Color shift on high bass\n          vec3 boostedColor = color * (1.0 + bass * 0.5);\n          gl_FragColor = vec4(boostedColor * intensity * 2.0, 1.0);\n        }\n      ":"\n        uniform vec3 color;\n        uniform float time;\n        varying vec2 vUv;\n        void main() {\n          float pulse = 0.7 + 0.3 * sin(time * 3.0 + vUv.x * 10.0);\n          gl_FragColor = vec4(color * pulse * 1.5, 1.0);\n        }\n      ",toneMapped:!1}):new E({color:s,toneMapped:!1}),[s,i,a]);return t(e=>{(i||a)&&l instanceof v&&(l.uniforms.time.value=e.clock.elapsedTime,a&&(l.uniforms.bass.value=Ce.getBassLevel()))}),n.jsx("mesh",{position:r,material:l,children:n.jsx("boxGeometry",{args:o})})}function nt({position:e,rotation:t=0,material:s}){return n.jsxs("group",{position:e,rotation:[0,t,0],children:[n.jsx("mesh",{position:[0,.35,0],material:s,children:n.jsx("boxGeometry",{args:[2.8,.45,1]})}),n.jsx("mesh",{position:[0,.75,-.4],material:s,children:n.jsx("boxGeometry",{args:[2.8,.65,.25]})}),n.jsx("mesh",{position:[-1.3,.55,0],material:s,children:n.jsx("boxGeometry",{args:[.2,.5,.9]})}),n.jsx("mesh",{position:[1.3,.55,0],material:s,children:n.jsx("boxGeometry",{args:[.2,.5,.9]})}),[[-1.2,-.4],[1.2,-.4],[-1.2,.35],[1.2,.35]].map(([e,t],s)=>n.jsx("mesh",{position:[e,.08,t],material:Ye.goldChrome,children:n.jsx("cylinderGeometry",{args:[.03,.03,.16,8]})},s)),n.jsx(tt,{color:Ke,position:[0,.08,.4],size:[2.4,.02,.02],intensity:1.2})]})}function st({position:e}){return n.jsxs("group",{position:e,children:[n.jsx("mesh",{position:[0,.4,0],material:Ye.glass,children:n.jsx("boxGeometry",{args:[1.2,.03,.7]})}),n.jsx("mesh",{position:[0,.38,0],material:Ye.chrome,children:n.jsx("boxGeometry",{args:[1.25,.015,.75]})}),n.jsx("mesh",{position:[0,.2,0],material:Ye.darkMetal,children:n.jsx("boxGeometry",{args:[.8,.38,.5]})}),n.jsx(tt,{color:Ze,position:[0,.01,0],size:[.9,.01,.6],intensity:.8})]})}function rt({achievement:s,index:r}){const o=e.useRef(null),i=s.unlocked;t(e=>{o.current&&i&&(o.current.rotation.y=.5*e.clock.elapsedTime+.5*r,o.current.position.y=.5+.05*Math.sin(2*e.clock.elapsedTime+r))});const a=i?Qe:"#333333",l=i?Qe:"#000000";return n.jsxs("group",{children:[n.jsxs("mesh",{position:[0,.15,0],children:[n.jsx("cylinderGeometry",{args:[.12,.15,.3,8]}),n.jsx("meshStandardMaterial",{color:i?"#1a1a2a":"#0a0a0f",metalness:.8,roughness:.3})]}),n.jsxs("mesh",{ref:o,position:[0,.5,0],children:[n.jsx("octahedronGeometry",{args:[.15,0]}),n.jsx("meshStandardMaterial",{color:a,metalness:i?.9:.2,roughness:i?.1:.8,emissive:l,emissiveIntensity:i?.3:0})]}),i&&n.jsx("pointLight",{position:[0,.5,0],color:Qe,intensity:.5,distance:1.5})]})}function ot({position:t}){const[s,r]=e.useState([]);e.useEffect(()=>{const e=()=>{const e=Xe.getVisible();r(e.slice(0,10))};e();const t=setInterval(e,2e3);return()=>clearInterval(t)},[]);return n.jsxs("group",{position:t,children:[n.jsxs("mesh",{position:[0,1.2,-.3],children:[n.jsx("boxGeometry",{args:[4,2.5,.1]}),n.jsx("meshStandardMaterial",{color:"#0a0a14",metalness:.5,roughness:.5})]}),[.6,1.5].map((e,t)=>n.jsxs("mesh",{position:[0,e,0],children:[n.jsx("boxGeometry",{args:[3.8,.03,.5]}),n.jsx("meshStandardMaterial",{color:"#88ccff",transparent:!0,opacity:.15,metalness:1,roughness:0})]},t)),s.map((e,t)=>{const s=.7*(t%5-2),r=0===Math.floor(t/5)?.6:1.5;return n.jsx("group",{position:[s,r,0],children:n.jsx(rt,{achievement:e,index:t})},e.id)}),n.jsx(tt,{color:Qe,position:[0,.1,.2],size:[3.6,.02,.02],audioReactive:!0}),n.jsx(tt,{color:Qe,position:[0,2.3,.2],size:[3.6,.02,.02],audioReactive:!0}),n.jsx(tt,{color:Qe,position:[-1.85,1.2,.2],size:[.02,2.2,.02],audioReactive:!0}),n.jsx(tt,{color:Qe,position:[1.85,1.2,.2],size:[.02,2.2,.02],audioReactive:!0}),n.jsxs("mesh",{position:[0,2.6,0],children:[n.jsx("planeGeometry",{args:[2,.3]}),n.jsx("meshBasicMaterial",{color:Qe,transparent:!0,opacity:.1})]})]})}const it=et.map(e=>({x:e.x,z:-3})),at=[{id:"left-1",x:-26,z:8,rotation:Math.PI/2,seatX:-26,seatZ:8,standX:-24,standZ:8},{id:"left-2",x:-26,z:12,rotation:Math.PI/2,seatX:-26,seatZ:12,standX:-24,standZ:12},{id:"right-1",x:26,z:8,rotation:-Math.PI/2,seatX:26,seatZ:8,standX:24,standZ:8},{id:"right-2",x:26,z:12,rotation:-Math.PI/2,seatX:26,seatZ:12,standX:24,standZ:12},{id:"center-1",x:-4,z:-8,rotation:0,seatX:-4,seatZ:-8,standX:-4,standZ:-6},{id:"center-2",x:4,z:-8,rotation:0,seatX:4,seatZ:-8,standX:4,standZ:-6}],lt=[{x:-26,z:8,width:1.2,depth:3},{x:-26,z:12,width:1.2,depth:3},{x:-24.5,z:10,width:1.2,depth:.7},{x:26,z:8,width:1.2,depth:3},{x:26,z:12,width:1.2,depth:3},{x:24.5,z:10,width:1.2,depth:.7},{x:-4,z:-8,width:3,depth:1.2},{x:4,z:-8,width:3,depth:1.2},{x:0,z:-6.5,width:1.2,depth:.7},{x:0,z:-10,width:20,depth:1.5}];function ct({onShowModal:s,onSlotSpin:r,introActive:o=!1,slotOpen:i=!1}){const{camera:a}=h(),l=e.useRef(new A(0,0,10)),c=e.useRef(0),u=e.useRef(!1),d=function(){const t=e.useRef(!1),n=e.useCallback(async()=>{t.current||(t.current=!0,await Ce.init())},[]);return e.useEffect(()=>{const e=async()=>{Ce.isInitialized()?await Ce.resume():(await n(),console.log("[Audio] Initialized on user interaction")),window.removeEventListener("click",e),window.removeEventListener("keydown",e),window.removeEventListener("touchstart",e)};return window.addEventListener("click",e),window.addEventListener("keydown",e),window.addEventListener("touchstart",e),()=>{window.removeEventListener("click",e),window.removeEventListener("keydown",e),window.removeEventListener("touchstart",e)}},[n]),{play:e.useCallback((e,t)=>{Ce.play(e,t)},[]),playSpatial:e.useCallback((e,t,n,s)=>{Ce.playSpatial(e,t,n,s)},[]),updateSpatialPosition:e.useCallback((e,t)=>{Ce.updateSpatialPosition(e,t)},[]),stopSpatial:e.useCallback(e=>{Ce.stopSpatial(e)},[]),updateListener:e.useCallback((e,t,n)=>{Ce.updateListener(e,t,n)},[]),setBusVolume:e.useCallback((e,t)=>{Ce.setBusVolume(e,t)},[]),getBusVolume:e.useCallback(e=>Ce.getBusVolume(e),[]),setMuted:e.useCallback(e=>{Ce.setMuted(e)},[]),isReady:Ce.isInitialized(),init:n}}(),p=e.useRef(0),f=e.useRef(!1),m=e.useRef(null),x=e.useRef(null),g=e.useRef(null),y=e.useRef(!1),j=e.useRef(null),v=e.useRef(!1),b=e.useRef(0),w=e.useRef(null),[,M]=e.useState(0),k=e.useRef(0),S=e.useRef(.3),R=e.useRef(6),T=e.useRef({left:!1,right:!1,up:!1,down:!1});return e.useEffect(()=>{const e=e=>{if(v.current)switch(e.code){case"ArrowLeft":T.current.left=!0,e.preventDefault();break;case"ArrowRight":T.current.right=!0,e.preventDefault();break;case"ArrowUp":T.current.up=!0,e.preventDefault();break;case"ArrowDown":T.current.down=!0,e.preventDefault()}},t=e=>{switch(e.code){case"ArrowLeft":T.current.left=!1;break;case"ArrowRight":T.current.right=!1;break;case"ArrowUp":T.current.up=!1;break;case"ArrowDown":T.current.down=!1}},n=e=>{v.current&&(R.current=Math.max(3,Math.min(12,R.current+.01*e.deltaY)))};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),window.addEventListener("wheel",n),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t),window.removeEventListener("wheel",n)}},[]),e.useEffect(()=>{o||f.current||(f.current=!0)},[o,d]),e.useEffect(()=>{const e=e=>{if("Space"===e.code){if(e.preventDefault(),v.current&&w.current)return l.current.x=w.current.standX,l.current.z=w.current.standZ,k.current=0,S.current=.3,R.current=6,T.current={left:!1,right:!1,up:!1,down:!1},w.current=null,void(v.current=!1);if(m.current&&!x.current){x.current=m.current,M(e=>e+1);const e=m.current;return d.play("spinLoop",{volume:.6}),r?.(e),setTimeout(()=>Pe(0),600),setTimeout(()=>Pe(1),800),setTimeout(()=>Pe(2),1e3),setTimeout(()=>Pe(3),1200),setTimeout(()=>Pe(4),1400),void setTimeout(()=>{y.current=Math.random()<.2,g.current=e,M(e=>e+1),y.current?d.play("jackpot",{volume:.8}):d.play("winBig",{volume:.7}),setTimeout(()=>{s&&(d.play("modalOpen",{volume:.5}),s(e)),g.current=null,x.current=null,y.current=!1,M(e=>e+1)},1e3)},1500)}j.current&&!v.current&&(d.play("sit",{volume:.5}),v.current=!0,b.current=j.current.rotation,w.current=j.current,l.current.x=j.current.seatX,l.current.z=j.current.seatZ)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,r,d]),t(e=>{if(o)return;const t=a.position,n=new A;if(a.getWorldDirection(n),d.updateListener([t.x,t.y,t.z],[n.x,n.y,n.z]),u.current&&!v.current){const t=e.clock.elapsedTime;t-p.current>.35&&(!function(e=.5){const t=["footstep1","footstep2","footstep3"];Ce.play(t[Be],{volume:e}),Be=(Be+1)%t.length}(.4),p.current=t)}if(v.current){const e=5,t=3,n=1/60;T.current.left&&(k.current+=e*n),T.current.right&&(k.current-=e*n),T.current.up&&(S.current=Math.min(.8,S.current+t*n)),T.current.down&&(S.current=Math.max(.1,S.current-t*n));const s=l.current.x,r=l.current.z,o=1,i=R.current,c=S.current,u=k.current;a.position.x=s+Math.sin(u)*Math.cos(c)*i,a.position.y=o+Math.sin(c)*i+1.5,a.position.z=r+Math.cos(u)*Math.cos(c)*i,a.lookAt(s,o+.5,r)}else a.position.x=l.current.x,a.position.y=l.current.y+4,a.position.z=l.current.z+10,a.lookAt(l.current.x,1.5,l.current.z-3);if(!v.current){let e=null,t=16;for(const r of et){const n=l.current.x-r.x,s=l.current.z- -3,o=n*n+s*s;o<t&&(t=o,e=r.id)}m.current=e;let n=null,s=9;for(const r of at){const e=l.current.x-r.x,t=l.current.z-r.z,o=e*e+t*t;o<s&&(s=o,n=r)}j.current=n}}),n.jsxs(n.Fragment,{children:[n.jsx("ambientLight",{intensity:.4,color:"#ffffff"}),n.jsx("directionalLight",{position:[10,20,10],intensity:.6,color:"#ffffff"}),n.jsx("pointLight",{position:[0,6,0],color:Je,intensity:4,distance:40}),n.jsx("pointLight",{position:[0,4,10],color:Ze,intensity:2,distance:30}),n.jsx("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,5],material:Ye.floor,children:n.jsx("planeGeometry",{args:[70,55]})}),[-20,-10,0,10,20].map(e=>n.jsx(tt,{color:Je,position:[e,.01,5],size:[.02,.01,50],intensity:.4},`fx${e}`)),[-10,0,10,20].map(e=>n.jsx(tt,{color:Ze,position:[0,.01,e],size:[60,.01,.02],intensity:.3},`fz${e}`)),n.jsx("mesh",{position:[0,4.5,-12],material:Ye.wall,children:n.jsx("boxGeometry",{args:[70,11,.3]})}),n.jsx("mesh",{position:[0,4.5,32],material:Ye.wall,children:n.jsx("boxGeometry",{args:[70,11,.3]})}),n.jsx("mesh",{position:[-34,4.5,10],material:Ye.wall,children:n.jsx("boxGeometry",{args:[.3,11,60]})}),n.jsx("mesh",{position:[34,4.5,10],material:Ye.wall,children:n.jsx("boxGeometry",{args:[.3,11,60]})}),n.jsx(tt,{color:Ke,position:[0,1,-11.7],size:[65,.06,.06],audioReactive:!0}),n.jsx(tt,{color:Ze,position:[0,8.5,-11.7],size:[65,.06,.06],audioReactive:!0}),n.jsx(tt,{color:Je,position:[-33.7,4.5,10],size:[.06,8,.06],audioReactive:!0}),n.jsx(tt,{color:Je,position:[33.7,4.5,10],size:[.06,8,.06],audioReactive:!0}),n.jsx("mesh",{position:[0,9.5,10],material:Ye.ceiling,children:n.jsx("boxGeometry",{args:[70,.2,60]})}),n.jsx(tt,{color:Ke,position:[-15,9.3,10],size:[.04,.04,55],audioReactive:!0}),n.jsx(tt,{color:Ze,position:[15,9.3,10],size:[.04,.04,55],audioReactive:!0}),n.jsx(tt,{color:Je,position:[0,9.3,-5],size:[65,.04,.04],audioReactive:!0}),n.jsx(tt,{color:Je,position:[0,9.3,15],size:[65,.04,.04],audioReactive:!0}),[-22,-11,0,11,22].map(e=>[-4,6,16].map(t=>n.jsx("mesh",{position:[e,9.35,t],material:Ye.ceilingPanel,children:n.jsx("boxGeometry",{args:[9,.08,8]})},`cp-${e}-${t}`))),n.jsxs("group",{position:[-26,0,8],children:[n.jsx(nt,{position:[0,0,0],rotation:Math.PI/2,material:Ye.velvetPurple}),n.jsx(nt,{position:[0,0,4],rotation:Math.PI/2,material:Ye.velvetPurple}),n.jsx(st,{position:[1.5,0,2]}),n.jsx("pointLight",{position:[0,2.5,2],color:Ke,intensity:1.5,distance:8})]}),n.jsxs("group",{position:[26,0,8],children:[n.jsx(nt,{position:[0,0,0],rotation:-Math.PI/2,material:Ye.velvetTeal}),n.jsx(nt,{position:[0,0,4],rotation:-Math.PI/2,material:Ye.velvetTeal}),n.jsx(st,{position:[-1.5,0,2]}),n.jsx("pointLight",{position:[0,2.5,2],color:Ze,intensity:1.5,distance:8})]}),n.jsxs("group",{position:[0,0,-8],children:[n.jsx(nt,{position:[-4,0,0],rotation:0,material:Ye.velvetWine}),n.jsx(nt,{position:[4,0,0],rotation:0,material:Ye.velvetWine}),n.jsx(st,{position:[0,0,1.5]}),n.jsx("pointLight",{position:[0,2.5,0],color:Je,intensity:1.5,distance:8})]}),n.jsxs("group",{position:[0,0,-10],children:[n.jsx("mesh",{position:[0,.95,0],material:Ye.barTop,children:n.jsx("boxGeometry",{args:[20,.08,1.2]})}),n.jsx("mesh",{position:[0,.48,0],material:Ye.barBody,children:n.jsx("boxGeometry",{args:[19.5,.9,1]})}),n.jsx("mesh",{position:[0,2.5,-1],material:Ye.barShelf,children:n.jsx("boxGeometry",{args:[18,4,.3]})}),n.jsx(tt,{color:Qe,position:[0,1.5,-.8],size:[17,.03,.03],intensity:1.3}),n.jsx(tt,{color:Ze,position:[0,.05,.5],size:[18,.02,.02],intensity:1})]}),n.jsx(ot,{position:[-28,0,-8]}),[-20,20].map((e,t)=>n.jsxs("group",{children:[n.jsx("mesh",{position:[e,.5,2],material:Ye.goldChrome,children:n.jsx("cylinderGeometry",{args:[.04,.05,1,8]})}),n.jsx("mesh",{position:[e,1.02,2],material:Ye.goldChrome,children:n.jsx("sphereGeometry",{args:[.06,12,12]})}),n.jsx("mesh",{position:[e,.5,5],material:Ye.goldChrome,children:n.jsx("cylinderGeometry",{args:[.04,.05,1,8]})}),n.jsx("mesh",{position:[e,1.02,5],material:Ye.goldChrome,children:n.jsx("sphereGeometry",{args:[.06,12,12]})}),n.jsx("mesh",{position:[e,.9,3.5],material:Ye.velvetRope,children:n.jsx("cylinderGeometry",{args:[.025,.025,3,8]})})]},`rope-${t}`)),n.jsx(ce,{positionRef:l,rotationRef:c,isMovingRef:u,machinePositions:it,collisionBoxes:lt,isSittingRef:v,sittingRotationRef:b,inputDisabled:i}),!o&&n.jsx(me,{avatarPosition:l.current,nearMachine:m.current,nearCouch:j.current,machinePositions:et.map(e=>({id:e.id,x:e.x,z:-3})),couchPositions:at.map(e=>({id:e.id,x:e.x,z:e.z}))}),et.map(e=>n.jsxs("group",{children:[n.jsx($,{position:[e.x,0,-3],label:e.label,nearMachineRef:m,spinningMachineRef:x,machineId:e.id}),n.jsx(be,{position:[e.x,3,-2],active:g.current===e.id,isJackpot:y.current&&g.current===e.id})]},e.id)),n.jsx(we,{count:300,area:[60,9,50],color:"#8866ff",opacity:.25,size:.04}),n.jsx("fog",{attach:"fog",args:["#080412",18,55]}),n.jsx(ke,{quality:"medium",enableSSAO:!1,enableBloom:!0,enableChromatic:!0,enableVignette:!0,enableNoise:!1}),n.jsx(Ae,{})]})}const ut="#00ffff",dt="#ff00aa",pt="#8844ff",ht="#ffd700";function ft({active:s,position:r,fadeOut:o=!1}){const i=e.useRef(null),a=e.useRef(null),l=e.useRef(null),c=e.useRef(null),u=e.useRef(!1),d=e.useRef(!1),p=e.useRef(1),h=200,{geometry:f,material:m}=e.useMemo(()=>{const e=new Float32Array(600),t=new Float32Array(600),n=new Float32Array(600),s=new Float32Array(h),o=new Float32Array(h),i=new j(ut),u=new j(dt),d=new j(pt);for(let a=0;a<h;a++){const l=3*a;e[l]=r[0],e[l+1]=-1e3,e[l+2]=r[2];const c=Math.random()*Math.PI*2,p=3+4*Math.random();n[l]=Math.cos(c)*p*.4,n[l+1]=p,n[l+2]=Math.sin(c)*p*.4;const h=Math.random();let f;f=h<.4?i:h<.7?u:d,t[l]=f.r,t[l+1]=f.g,t[l+2]=f.b,s[a]=0,o[a]=.12+.08*Math.random()}a.current=n,l.current=s,c.current=o;const p=new S;p.setAttribute("position",new R(e,3)),p.setAttribute("color",new R(t,3)),p.setAttribute("size",new R(o,1));return{geometry:p,material:new G({size:.15,vertexColors:!0,transparent:!0,opacity:.9,blending:T,depthWrite:!1,toneMapped:!1})}},[r]);return t((e,t)=>{if(!i.current||!a.current||!l.current)return;if(d.current)return;const n=f.attributes.position,c=n.array,m=a.current,x=l.current;if(s&&!o&&(u.current=!0,p.current=Math.min(1,p.current+2*t)),o&&(p.current=Math.max(0,p.current-.8*t)),!u.current)return;let g=0;for(let s=0;s<h;s++){const e=3*s;if(x[s]-=.5*t,x[s]<=0)if(p.current>0&&Math.random()<p.current*t*3){c[e]=r[0]+.8*(Math.random()-.5),c[e+1]=r[1]+.3*Math.random(),c[e+2]=r[2]+.8*(Math.random()-.5),x[s]=.8+.6*Math.random();const t=Math.random()*Math.PI*2,n=3+4*Math.random();m[e]=Math.cos(t)*n*.4,m[e+1]=n,m[e+2]=Math.sin(t)*n*.4,g++}else c[e+1]=-1e3;else{g++,c[e]+=m[e]*t,c[e+1]+=m[e+1]*t,c[e+2]+=m[e+2]*t;const n=2.5*t,o=c[e]-r[0],i=c[e+2]-r[2];c[e]=r[0]+o*Math.cos(n)-i*Math.sin(n),c[e+2]=r[2]+o*Math.sin(n)+i*Math.cos(n);const a=Math.max(.3,x[s]);m[e+1]*=1-.3*t*(1-a)}}o&&p.current<=0&&0===g&&(d.current=!0),n.needsUpdate=!0}),s||u.current?d.current?null:n.jsx("points",{ref:i,geometry:f,material:m}):null}function mt({onComplete:s,avatarSpawnPosition:r=[0,0,10]}){const{camera:o}=h(),i=e.useRef(Date.now()),[a,l]=e.useState(!1),[c,u]=e.useState(!1),d=e.useRef(!1),p=e.useRef(new A(0,60,80)),f=e.useRef(new A(0,4,20)),m=e.useRef(new A(0,0,-10)),x=e.useRef(new A(0,1.5,7));return e.useEffect(()=>{o.position.copy(p.current),o.lookAt(m.current)},[o]),e.useEffect(()=>{const e=setTimeout(()=>l(!0),500),t=setTimeout(()=>u(!0),1800),n=setTimeout(()=>{d.current||(d.current=!0,s())},3500);return()=>{clearTimeout(e),clearTimeout(t),clearTimeout(n)}},[s]),t(()=>{if(d.current)return;const e=(Date.now()-i.current)/1e3,t=Math.min(e/3.5,1),n=1-Math.pow(1-t,5);o.position.x=b.lerp(p.current.x,f.current.x,n),o.position.y=b.lerp(p.current.y,f.current.y,n),o.position.z=b.lerp(p.current.z,f.current.z,n);const s=b.lerp(m.current.x,x.current.x,n),r=b.lerp(m.current.y,x.current.y,n),a=b.lerp(m.current.z,x.current.z,n);o.lookAt(s,r,a)}),n.jsx(ft,{active:a,position:r,fadeOut:c})}function xt({active:t,onComplete:s,canSkip:r=!1}){const[o,i]=e.useState("glitch"),[a,l]=e.useState("WELCOME TO VANVINKL CASINO"),[c,u]=e.useState(0),[d,p]=e.useState(1),[h,f]=e.useState(1),m="WELCOME TO VANVINKL CASINO",x="!@#$%^&*()_+-=[]{}|;:,.<>?/\\~`â–ˆâ–“â–’â–‘";return e.useEffect(()=>{if(!t||!r)return;const e=e=>{"Escape"!==e.key&&"Enter"!==e.key||(e.preventDefault(),i("done"),s())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,r,s]),e.useEffect(()=>{if(!t)return;const e=[{time:700,action:()=>i("reveal")},{time:1800,action:()=>i("hold")},{time:2600,action:()=>i("fade")},{time:3e3,action:()=>p(0)},{time:3500,action:()=>{i("done"),s()}}].map(e=>setTimeout(e.action,e.time));return()=>e.forEach(e=>clearTimeout(e))},[t,s]),e.useEffect(()=>{if(!t)return;const e=setTimeout(()=>{let e=Date.now();const t=()=>{const n=Date.now()-e,s=Math.min(n/1500,1),r=1-Math.pow(1-s,3);f(1-r),s<1&&requestAnimationFrame(t)};requestAnimationFrame(t)},1200);return()=>clearTimeout(e)},[t]),e.useEffect(()=>{if("glitch"!==o)return;const e=setInterval(()=>{let e="";for(let t=0;t<26;t++)Math.random()<.4?e+=x[Math.floor(34*Math.random())]:e+=m[t];l(e)},50);return()=>clearInterval(e)},[o]),e.useEffect(()=>{if("reveal"!==o)return void("hold"!==o&&"fade"!==o||u(26));u(0);const e=26/22.5;let t=0;const n=setInterval(()=>{t+=e,t>=26?(u(26),clearInterval(n)):u(Math.floor(t))},40);return()=>clearInterval(n)},[o]),e.useEffect(()=>{if("glitch"!==o){if("reveal"===o){const e=setInterval(()=>{let e="";for(let t=0;t<26;t++)e+=t<c?m[t]:x[Math.floor(34*Math.random())];l(e)},40);return()=>clearInterval(e)}"hold"!==o&&"fade"!==o||l(m)}},[o,c]),t&&"done"!==o?n.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:`rgba(5, 3, 10, ${h})`,zIndex:1e4,pointerEvents:"none",opacity:d,transition:"opacity 0.7s ease-out"},children:[n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,0.6) 100%)",pointerEvents:"none"}}),n.jsxs("div",{style:{textAlign:"center",opacity:1,transform:"reveal"===o||"hold"===o?"scale(1)":"fade"===o?"scale(0.98)":"scale(1.02)",transition:"all 0.5s ease-out"},children:[n.jsx("h1",{style:{margin:0,fontSize:"clamp(32px, 7vw, 80px)",fontFamily:'"Orbitron", "Rajdhani", system-ui, sans-serif',fontWeight:900,letterSpacing:"10px",color:"glitch"===o?dt:"#ffffff",textShadow:"glitch"===o?`0 0 30px ${dt}, 0 0 60px ${dt}, -4px 0 ${ut}, 4px 0 ${pt}, 0 0 100px ${dt}`:`0 0 40px ${ut}, 0 0 80px ${ut}, 0 0 120px ${ut}, 0 0 160px ${pt}`,animation:"glitch"===o?"glitchShake 0.08s infinite":"none",whiteSpace:"nowrap",WebkitTextStroke:"reveal"===o||"hold"===o?"1px rgba(0,255,255,0.5)":"none"},children:a}),("reveal"===o||"hold"===o||"fade"===o)&&n.jsx("div",{style:{marginTop:"25px",fontSize:"20px",color:ht,letterSpacing:"6px",textShadow:`0 0 20px ${ht}, 0 0 40px ${ht}`,animation:"fadeInUp 0.5s ease-out",opacity:"fade"===o?.7:1,transition:"opacity 0.5s ease-out"},children:"PORTFOLIO EXPERIENCE"})]}),n.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"repeating-linear-gradient(0deg, transparent, transparent 3px, rgba(0,0,0,0.05) 3px, rgba(0,0,0,0.05) 6px)",pointerEvents:"none",opacity:.4}}),n.jsx("div",{style:{position:"absolute",left:0,right:0,height:"4px",background:`linear-gradient(90deg, transparent, ${ut}40, ${dt}60, ${ut}40, transparent)`,animation:"scanLine 2s linear infinite",pointerEvents:"none"}}),r&&"done"!==o&&n.jsxs("div",{style:{position:"absolute",bottom:"40px",right:"40px",background:"rgba(10, 10, 20, 0.8)",border:"1px solid rgba(0, 255, 255, 0.3)",color:"rgba(255,255,255,0.7)",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",pointerEvents:"none"},children:[n.jsx("kbd",{style:{background:"rgba(0,255,255,0.2)",padding:"4px 10px",borderRadius:"4px",marginRight:"8px",color:"#00ffff",fontFamily:"monospace"},children:"ESC"}),"or",n.jsx("kbd",{style:{background:"rgba(0,255,255,0.2)",padding:"4px 10px",borderRadius:"4px",marginLeft:"8px",marginRight:"8px",color:"#00ffff",fontFamily:"monospace"},children:"ENTER"}),"to skip"]}),n.jsx("style",{children:"\n        @keyframes glitchShake {\n          0% { transform: translate(0) skewX(0deg); }\n          20% { transform: translate(-3px, 2px) skewX(-1deg); }\n          40% { transform: translate(-2px, -2px) skewX(1deg); }\n          60% { transform: translate(3px, 2px) skewX(-0.5deg); }\n          80% { transform: translate(2px, -2px) skewX(0.5deg); }\n          100% { transform: translate(0) skewX(0deg); }\n        }\n        @keyframes fadeInUp {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        @keyframes scanLine {\n          0% { top: -4px; }\n          100% { top: 100%; }\n        }\n        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap');\n      "})]}):null}function gt(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))}function yt({size:t,onMove:s,onStart:r,onEnd:o}){const i=e.useRef(null),a=e.useRef(null),l=e.useRef({active:!1,x:0,y:0,angle:0,distance:0}),c=e.useRef(null),u=t/2-20,d=e.useCallback((e,t)=>{a.current&&(a.current.style.transform=`translate(${e}px, ${t}px)`)},[]),p=e.useCallback(e=>{if(null!==c.current)return;const t=e.changedTouches[0];c.current=t.identifier,l.current.active=!0,r?.(),e.preventDefault()},[r]),h=e.useCallback(e=>{if(null===c.current)return;if(!i.current)return;let t;for(let s=0;s<e.changedTouches.length;s++)if(e.changedTouches[s].identifier===c.current){t=e.changedTouches[s];break}if(!t)return;const n=i.current.getBoundingClientRect(),r=n.left+n.width/2,o=n.top+n.height/2;let a=t.clientX-r,p=t.clientY-o;const h=Math.sqrt(a*a+p*p),f=Math.atan2(p,a),m=Math.min(h,u),x=m/u,g=Math.cos(f)*x,y=Math.sin(f)*x;l.current.x=g,l.current.y=y,l.current.angle=f,l.current.distance=x;const j=Math.cos(f)*m,v=Math.sin(f)*m;d(j,v),s(g,y),e.preventDefault()},[u,s,d]),f=e.useCallback(e=>{for(let t=0;t<e.changedTouches.length;t++)if(e.changedTouches[t].identifier===c.current){c.current=null,l.current.active=!1,l.current.x=0,l.current.y=0,l.current.distance=0,d(0,0),s(0,0),o?.();break}},[s,o,d]);return e.useEffect(()=>{const e=i.current;if(e)return e.addEventListener("touchstart",p,{passive:!1}),e.addEventListener("touchmove",h,{passive:!1}),e.addEventListener("touchend",f),e.addEventListener("touchcancel",f),()=>{e.removeEventListener("touchstart",p),e.removeEventListener("touchmove",h),e.removeEventListener("touchend",f),e.removeEventListener("touchcancel",f)}},[p,h,f]),n.jsxs("div",{ref:i,style:{width:t,height:t,borderRadius:"50%",background:"radial-gradient(circle, rgba(0,255,255,0.1) 0%, rgba(0,0,0,0.3) 100%)",border:`2px solid ${xe}40`,display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"},children:[n.jsx("div",{style:{width:20,height:20,borderRadius:"50%",background:`${xe}30`,position:"absolute"}}),n.jsx("div",{ref:a,style:{width:50,height:50,borderRadius:"50%",background:`radial-gradient(circle, ${xe} 0%, ${ye} 100%)`,boxShadow:`0 0 20px ${xe}80, inset 0 0 10px rgba(255,255,255,0.3)`,position:"absolute",transform:"translate(0px, 0px)",willChange:"transform"}})]})}function jt({size:t,onPress:s,label:r="ACTION"}){const[o,i]=e.useState(!1),a=e.useRef(null),l=e.useCallback(e=>{e.preventDefault(),i(!0),s()},[s]),c=e.useCallback(()=>{i(!1)},[]);return n.jsx("button",{ref:a,onTouchStart:l,onTouchEnd:c,onTouchCancel:c,style:{width:t,height:t,borderRadius:"50%",background:o?`radial-gradient(circle, ${ge} 0%, ${ye} 100%)`:`radial-gradient(circle, ${ye}80 0%, ${ge}40 100%)`,border:`3px solid ${o?ge:ye}`,boxShadow:o?`0 0 30px ${ge}, inset 0 0 20px rgba(255,255,255,0.2)`:`0 0 15px ${ye}60`,color:"#fff",fontSize:"14px",fontWeight:"bold",fontFamily:"system-ui, -apple-system, sans-serif",letterSpacing:"2px",cursor:"pointer",touchAction:"none",userSelect:"none",WebkitUserSelect:"none",outline:"none",transform:o?"scale(0.95)":"scale(1)",transition:"transform 0.05s, background 0.1s, box-shadow 0.1s"},children:r})}function vt({onMove:t,onAction:s,visible:r=!0,joystickSize:o=140,actionButtonSize:i=90}){const[a,l]=e.useState(!1);return e.useEffect(()=>{l(gt())},[]),a&&r?n.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"200px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 30px 30px 30px",pointerEvents:"none",zIndex:500},children:[n.jsx("div",{style:{pointerEvents:"auto"},children:n.jsx(yt,{size:o,onMove:t})}),n.jsx("div",{style:{pointerEvents:"auto"},children:n.jsx(jt,{size:i,onPress:s})})]}):null}const bt={showIntro:!0,overlayComplete:!1,cameraComplete:!1,isSitting:!1,currentCouch:null,nearMachine:null,nearCouch:null,spinningMachine:null,winMachine:null,isJackpot:!1,modalData:null,audioInitialized:!1,masterVolume:.8,muted:!1};f()(m((e,t)=>({...bt,setOverlayComplete:()=>e({overlayComplete:!0}),setCameraComplete:()=>e({cameraComplete:!0}),endIntro:()=>e({showIntro:!1}),sitDown:t=>e({isSitting:!0,currentCouch:t}),standUp:()=>e({isSitting:!1,currentCouch:null}),setNearMachine:n=>{t().nearMachine!==n&&e({nearMachine:n})},setNearCouch:n=>{const s=t().nearCouch;s?.id!==n?.id&&e({nearCouch:n})},startSpin:t=>e({spinningMachine:t}),triggerWin:(t,n)=>e({winMachine:t,isJackpot:n}),endSpin:()=>e({spinningMachine:null,winMachine:null,isJackpot:!1}),showModal:(t,n,s)=>e({modalData:{id:t,title:n,content:s},spinningMachine:null}),closeModal:()=>e({modalData:null}),setAudioInitialized:()=>e({audioInitialized:!0}),setMasterVolume:t=>e({masterVolume:t}),toggleMute:()=>e(e=>({muted:!e.muted})),reset:()=>e(bt)}))),new A(0,0,10);const wt="vanvinkl-analytics";function Mt(){const e=function(){try{const e=localStorage.getItem(wt);if(e)return JSON.parse(e)}catch{}return{sessions:0,totalSpins:0,sectionsVisited:[],jackpots:0,firstVisit:Date.now(),lastVisit:Date.now()}}();e.sessions++,e.lastVisit=Date.now(),function(e){try{localStorage.setItem(wt,JSON.stringify(e))}catch{}}(e)}const kt=e.lazy(()=>x(()=>import("./SlotFullScreen-N_cvEI0f.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.SlotFullScreen})));function St(){return n.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, #0a0a0f 0%, #12121a 50%, #0a0a0f 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4,overflow:"hidden"},children:[n.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"\n          linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px),\n          linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px)\n        ",backgroundSize:"50px 50px",animation:"skeletonGridMove 20s linear infinite"}}),n.jsx("div",{style:{position:"absolute",width:"400px",height:"400px",background:"radial-gradient(circle, rgba(0, 255, 255, 0.1) 0%, transparent 70%)",borderRadius:"50%",animation:"skeletonOrbPulse 3s ease-in-out infinite",filter:"blur(40px)"}}),n.jsx("div",{style:{position:"absolute",width:"300px",height:"300px",background:"radial-gradient(circle, rgba(255, 0, 170, 0.08) 0%, transparent 70%)",borderRadius:"50%",animation:"skeletonOrbPulse 3s ease-in-out infinite 1.5s",filter:"blur(30px)",transform:"translate(100px, 50px)"}}),n.jsxs("div",{style:{position:"relative",width:"90%",maxWidth:"800px",padding:"40px",background:"rgba(20, 20, 30, 0.8)",borderRadius:"24px",border:"2px solid rgba(0, 255, 255, 0.2)",boxShadow:"\n          0 0 60px rgba(0, 255, 255, 0.1),\n          inset 0 0 60px rgba(0, 0, 0, 0.5)\n        "},children:[n.jsx("div",{style:{height:"40px",background:"linear-gradient(90deg, rgba(0, 255, 255, 0.1), rgba(0, 255, 255, 0.2), rgba(0, 255, 255, 0.1))",backgroundSize:"200% 100%",animation:"skeletonShimmer 1.5s ease-in-out infinite",borderRadius:"8px",marginBottom:"30px"}}),n.jsx("div",{style:{display:"flex",gap:"20px",justifyContent:"center",marginBottom:"30px"},children:[0,1,2].map(e=>n.jsxs("div",{style:{width:"180px",height:"300px",background:"rgba(0, 0, 0, 0.4)",borderRadius:"12px",border:"1px solid rgba(0, 255, 255, 0.15)",overflow:"hidden",position:"relative"},children:[n.jsx("div",{style:{position:"absolute",inset:0,background:"\n                  linear-gradient(180deg,\n                    rgba(0, 255, 255, 0.05) 0%,\n                    rgba(255, 0, 170, 0.05) 33%,\n                    rgba(136, 68, 255, 0.05) 66%,\n                    rgba(0, 255, 255, 0.05) 100%\n                  )\n                ",backgroundSize:"100% 400%",animation:"skeletonReelSpin 1s linear infinite",animationDelay:.15*e+"s"}}),[0,1,2,3].map(e=>n.jsx("div",{style:{width:"60%",height:"50px",margin:"20px auto",background:"linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.08), rgba(255,255,255,0.03))",backgroundSize:"200% 100%",animation:"skeletonShimmer 1.5s ease-in-out infinite",animationDelay:.1*e+"s",borderRadius:"8px"}},e))]},e))}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{color:"#00ffff",fontSize:"28px",fontWeight:"bold",textShadow:"0 0 30px #00ffff, 0 0 60px #00ffff40",letterSpacing:"8px",animation:"skeletonTextPulse 1s ease-in-out infinite"},children:"LOADING"}),n.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"16px"},children:[0,1,2,3,4].map(e=>n.jsx("div",{style:{width:"8px",height:"8px",background:"#00ffff",borderRadius:"50%",boxShadow:"0 0 10px #00ffff",animation:"skeletonDotBounce 1.4s ease-in-out infinite",animationDelay:.1*e+"s"}},e))})]})]}),n.jsx("style",{children:"\n        @keyframes skeletonGridMove {\n          0% { transform: translate(0, 0); }\n          100% { transform: translate(50px, 50px); }\n        }\n        @keyframes skeletonOrbPulse {\n          0%, 100% { opacity: 0.3; transform: scale(1); }\n          50% { opacity: 0.6; transform: scale(1.1); }\n        }\n        @keyframes skeletonShimmer {\n          0% { background-position: 200% 0; }\n          100% { background-position: -200% 0; }\n        }\n        @keyframes skeletonReelSpin {\n          0% { background-position: 0 0; }\n          100% { background-position: 0 400%; }\n        }\n        @keyframes skeletonTextPulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n        @keyframes skeletonDotBounce {\n          0%, 80%, 100% { transform: translateY(0); opacity: 0.3; }\n          40% { transform: translateY(-12px); opacity: 1; }\n        }\n      "})]})}function Rt(){return n.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"20px",padding:"10px 24px",background:"rgba(5, 5, 15, 0.75)",border:"1px solid rgba(0, 255, 255, 0.25)",borderRadius:"30px",backdropFilter:"blur(10px)",zIndex:100,fontFamily:"system-ui, -apple-system, sans-serif"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[["â†","â†‘","â†“","â†’"].map(e=>n.jsx("span",{style:{padding:"4px 8px",background:"rgba(0, 255, 255, 0.15)",border:"1px solid rgba(0, 255, 255, 0.5)",borderRadius:"4px",color:"#00ffff",fontSize:"12px",fontFamily:"monospace"},children:e},e)),n.jsx("span",{style:{color:"#888899",fontSize:"12px",marginLeft:"4px"},children:"MOVE"})]}),n.jsx("div",{style:{width:"1px",background:"rgba(136, 68, 255, 0.4)"}}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[n.jsx("span",{style:{padding:"4px 14px",background:"rgba(255, 0, 170, 0.15)",border:"1px solid rgba(255, 0, 170, 0.5)",borderRadius:"4px",color:"#ff00aa",fontSize:"12px",fontFamily:"monospace"},children:"SPACE"}),n.jsx("span",{style:{color:"#888899",fontSize:"12px"},children:"INTERACT"})]})]})}function Tt(){const[t,s]=e.useState(()=>"true"===localStorage.getItem("vanvinkl-muted")),[r,o]=e.useState(!1);e.useEffect(()=>{Ce.setMuted(t)},[]);const i=e.useCallback(()=>{s(e=>{const t=!e;return localStorage.setItem("vanvinkl-muted",String(t)),Ce.setMuted(t),t})},[]);return n.jsx("button",{onClick:i,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),style:{position:"fixed",top:"20px",right:"20px",width:"48px",height:"48px",borderRadius:"50%",background:r?"rgba(0, 255, 255, 0.2)":"rgba(10, 10, 20, 0.8)",border:"2px solid "+(t?"rgba(255, 100, 100, 0.5)":"rgba(0, 255, 255, 0.3)"),cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",transition:"all 0.3s ease",zIndex:1e3,backdropFilter:"blur(10px)",boxShadow:r?"0 0 20px "+(t?"rgba(255,100,100,0.3)":"rgba(0,255,255,0.3)"):"none"},title:t?"Unmute":"Mute",children:t?n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#ff6666",strokeWidth:"2",children:[n.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5z"}),n.jsx("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),n.jsx("line",{x1:"17",y1:"9",x2:"23",y2:"15"})]}):n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#00ffff",strokeWidth:"2",children:[n.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5z"}),n.jsx("path",{d:"M19.07 4.93a10 10 0 010 14.14M15.54 8.46a5 5 0 010 7.07"})]})})}function At(){const[t,s]=e.useState(new Set);e.useEffect(()=>{const e=()=>{try{const e=localStorage.getItem("vanvinkl-progress");if(e){const t=JSON.parse(e);t.visited&&Array.isArray(t.visited)&&s(new Set(t.visited))}}catch{}};e();const t=()=>e();window.addEventListener("storage",t);const n=setInterval(e,1e3);return()=>{window.removeEventListener("storage",t),clearInterval(n)}},[]);const r=t.size/6,o=2*Math.PI*18,i=o*(1-r),a={skills:"#00ffff",services:"#ff00aa",about:"#ffd700",projects:"#00ff88",experience:"#8844ff",contact:"#ff4444"};return n.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"20px",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"rgba(5, 5, 15, 0.85)",border:"1px solid rgba(0, 255, 255, 0.2)",borderRadius:"16px",backdropFilter:"blur(10px)",zIndex:100,fontFamily:"system-ui, -apple-system, sans-serif"},children:[n.jsxs("div",{style:{position:"relative",width:"44px",height:"44px"},children:[n.jsxs("svg",{width:"44",height:"44",style:{transform:"rotate(-90deg)"},children:[n.jsx("circle",{cx:"22",cy:"22",r:"18",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"3"}),n.jsx("circle",{cx:"22",cy:"22",r:"18",fill:"none",stroke:"url(#progressGradient)",strokeWidth:"3",strokeLinecap:"round",strokeDasharray:o,strokeDashoffset:i,style:{transition:"stroke-dashoffset 0.5s ease"}}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[n.jsx("stop",{offset:"0%",stopColor:"#00ffff"}),n.jsx("stop",{offset:"50%",stopColor:"#ff00aa"}),n.jsx("stop",{offset:"100%",stopColor:"#ffd700"})]})})]}),n.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"11px",fontWeight:"bold",color:1===r?"#ffd700":"#ffffff"},children:[Math.round(100*r),"%"]})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[n.jsx("div",{style:{fontSize:"10px",color:"#888",letterSpacing:"1px",marginBottom:"2px"},children:"EXPLORED"}),n.jsx("div",{style:{display:"flex",gap:"4px"},children:["skills","services","about","projects","experience","contact"].map(e=>n.jsx("div",{title:e.charAt(0).toUpperCase()+e.slice(1),style:{width:"8px",height:"8px",borderRadius:"50%",background:t.has(e)?a[e]:"rgba(255,255,255,0.15)",boxShadow:t.has(e)?`0 0 8px ${a[e]}`:"none",transition:"all 0.3s ease"}},e))})]})]})}function zt(){const t=e.useRef(null),s=e.useRef(),[r,o]=e.useState(!1);return e.useEffect(()=>{const e=setInterval(()=>{Ce.isInitialized()&&(o(!0),clearInterval(e))},500);return()=>clearInterval(e)},[]),e.useEffect(()=>{if(!r||!t.current)return;const e=t.current,n=e.getContext("2d");if(!n)return;const o=()=>{const t=Ce.getFrequencyData();if(n.clearRect(0,0,e.width,e.height),t){const e=Math.floor(t.length/16);for(let s=0;s<16;s++){const r=t[s*e]/255,o=Math.max(2,30*r),i=180-s/16*140,a=80+20*r,l=50+20*r;n.fillStyle=`hsl(${i}, ${a}%, ${l}%)`,n.fillRect(5*s,30-o,3,o),n.shadowColor=`hsl(${i}, 100%, 60%)`,n.shadowBlur=8*r}}else for(let e=0;e<16;e++){const t=2+3*Math.sin(Date.now()/500+.5*e);n.fillStyle="rgba(0, 255, 255, 0.3)",n.fillRect(5*e,30-t,3,t)}s.current=requestAnimationFrame(o)};return o(),()=>{s.current&&cancelAnimationFrame(s.current)}},[r]),n.jsx("div",{style:{position:"fixed",top:"20px",left:"20px",padding:"8px 12px",background:"rgba(5, 5, 15, 0.85)",border:"1px solid rgba(0, 255, 255, 0.2)",borderRadius:"12px",backdropFilter:"blur(10px)",zIndex:100},children:n.jsx("canvas",{ref:t,width:80,height:30,style:{display:"block"}})})}function Ct({isOpen:e,onClose:t}){if(!e)return null;return n.jsxs("div",{onClick:t,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,animation:"helpModalFadeIn 0.3s ease-out"},children:[n.jsxs("div",{onClick:e=>e.stopPropagation(),style:{background:"linear-gradient(135deg, #0a0a12 0%, #12121a 100%)",borderRadius:"24px",padding:"40px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"auto",border:"2px solid rgba(0, 255, 255, 0.2)",boxShadow:"0 0 60px rgba(0, 255, 255, 0.15), 0 20px 60px rgba(0, 0, 0, 0.5)",animation:"helpModalSlideIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[n.jsx("h2",{style:{margin:0,fontSize:"28px",fontWeight:900,background:"linear-gradient(90deg, #00ffff, #ff00aa)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"3px"},children:"KEYBOARD SHORTCUTS"}),n.jsx("button",{onClick:t,style:{background:"rgba(255, 100, 100, 0.1)",border:"1px solid rgba(255, 100, 100, 0.3)",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",color:"#ff6666",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:"âœ•"})]}),[{section:"MOVEMENT",items:[{keys:["W","A","S","D"],desc:"Move around"},{keys:["â†‘","â†","â†“","â†’"],desc:"Alternative movement"}]},{section:"INTERACTION",items:[{keys:["SPACE"],desc:"Interact / Spin"},{keys:["ENTER"],desc:"Select item"},{keys:["ESC"],desc:"Close / Back"}]},{section:"NAVIGATION",items:[{keys:["â†","â†’"],desc:"Navigate items"},{keys:["â†‘","â†“"],desc:"Navigate grid rows"}]},{section:"OTHER",items:[{keys:["?"],desc:"Show this help"},{keys:["M"],desc:"Toggle sound"}]}].map(e=>n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsx("div",{style:{color:"#666",fontSize:"11px",letterSpacing:"3px",marginBottom:"12px",textTransform:"uppercase"},children:e.section}),e.items.map((e,t)=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:"1px solid rgba(255, 255, 255, 0.05)"},children:[n.jsx("div",{style:{display:"flex",gap:"8px"},children:e.keys.map(e=>n.jsx("span",{style:{padding:"6px 12px",background:"rgba(0, 255, 255, 0.1)",border:"1px solid rgba(0, 255, 255, 0.3)",borderRadius:"6px",color:"#00ffff",fontSize:"13px",fontFamily:"monospace",fontWeight:"bold",minWidth:"32px",textAlign:"center"},children:e},e))}),n.jsx("span",{style:{color:"#888",fontSize:"14px"},children:e.desc})]},t))]},e.section)),n.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"rgba(136, 68, 255, 0.1)",borderRadius:"12px",border:"1px solid rgba(136, 68, 255, 0.2)",textAlign:"center",color:"#8844ff",fontSize:"13px"},children:["Press ",n.jsx("span",{style:{padding:"2px 8px",background:"rgba(136, 68, 255, 0.2)",borderRadius:"4px",fontFamily:"monospace"},children:"?"})," anytime to show this help"]})]}),n.jsx("style",{children:"\n        @keyframes helpModalFadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes helpModalSlideIn {\n          from { opacity: 0; transform: scale(0.9) translateY(20px); }\n          to { opacity: 1; transform: scale(1) translateY(0); }\n        }\n      "})]})}function Et({achievement:t,onClose:s}){return e.useEffect(()=>{if(t){const e=setTimeout(s,4e3);return()=>clearTimeout(e)}},[t,s]),t?n.jsxs("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, rgba(136, 68, 255, 0.95), rgba(255, 0, 170, 0.95))",borderRadius:"16px",padding:"16px 24px",display:"flex",alignItems:"center",gap:"16px",zIndex:15e3,boxShadow:"0 10px 40px rgba(136, 68, 255, 0.4), 0 0 60px rgba(255, 0, 170, 0.2)",animation:"achievementSlideIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[n.jsx("div",{style:{fontSize:"40px",animation:"achievementIconBounce 0.6s ease-out"},children:t.icon}),n.jsxs("div",{children:[n.jsx("div",{style:{color:"#ffd700",fontSize:"11px",letterSpacing:"3px",marginBottom:"4px",textTransform:"uppercase"},children:"ðŸ† Achievement Unlocked!"}),n.jsx("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:t.title}),n.jsx("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"12px",marginTop:"2px"},children:t.description})]}),n.jsx("style",{children:"\n        @keyframes achievementSlideIn {\n          from { transform: translateX(-50%) translateY(-100px); opacity: 0; }\n          to { transform: translateX(-50%) translateY(0); opacity: 1; }\n        }\n        @keyframes achievementIconBounce {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.3); }\n        }\n      "})]}):null}function Gt({active:t,onComplete:s}){return e.useEffect(()=>{if(t){const e=setTimeout(s,5e3);return()=>clearTimeout(e)}},[t,s]),t?n.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.95)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:2e4,animation:"konamiFlash 0.2s ease-out"},children:[n.jsx("div",{style:{fontSize:"64px",fontWeight:900,background:"linear-gradient(90deg, #ff0000, #ff7700, #ffff00, #00ff00, #0077ff, #8800ff, #ff0077)",backgroundSize:"400% 100%",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:"konamiRainbow 2s linear infinite",marginBottom:"30px",textShadow:"0 0 50px rgba(255,255,255,0.5)"},children:"ðŸŽ® KONAMI CODE! ðŸŽ®"}),n.jsx("div",{style:{color:"#00ffff",fontSize:"24px",textAlign:"center",animation:"konamiFadeIn 0.5s ease-out 0.3s both"},children:"You found the secret!"}),n.jsx("div",{style:{color:"#ff00aa",fontSize:"18px",marginTop:"20px",animation:"konamiFadeIn 0.5s ease-out 0.6s both"},children:"+30 Lives ðŸš€"}),Array.from({length:20},(e,t)=>n.jsx("div",{style:{position:"absolute",left:100*Math.random()+"%",bottom:"-50px",fontSize:20+30*Math.random()+"px",animation:`konamiFloat ${2+3*Math.random()}s ease-out ${2*Math.random()}s forwards`},children:["ðŸŽ®","â¬†ï¸","â¬‡ï¸","â¬…ï¸","âž¡ï¸","ðŸ…°ï¸","ðŸ…±ï¸","â­","ðŸŒŸ","âœ¨"][Math.floor(10*Math.random())]},t)),n.jsx("style",{children:"\n        @keyframes konamiFlash {\n          0% { background: white; }\n          100% { background: rgba(0, 0, 0, 0.95); }\n        }\n        @keyframes konamiRainbow {\n          0% { background-position: 0% 50%; }\n          100% { background-position: 400% 50%; }\n        }\n        @keyframes konamiFadeIn {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        @keyframes konamiFloat {\n          0% { transform: translateY(0); opacity: 1; }\n          100% { transform: translateY(-100vh); opacity: 0; }\n        }\n      "})]}):null}function It(){return n.jsxs("mesh",{children:[n.jsx("planeGeometry",{args:[100,100]}),n.jsx("meshBasicMaterial",{color:"#0a0812"})]})}function Lt({onDismiss:t}){const[s,r]=e.useState(0),[o,i]=e.useState(!0),a=[{icon:"ðŸŽ®",title:"Move Around",text:"WASD or Arrow keys to walk"},{icon:"ðŸŽ°",title:"Spin Slots",text:"Press SPACE near a machine"},{icon:"ðŸ›‹ï¸",title:"Sit & Relax",text:"Press SPACE near a couch"},{icon:"â“",title:"Need Help?",text:"Press ? anytime for controls"}],l=e.useCallback(()=>{s<a.length-1?r(e=>e+1):(i(!1),setTimeout(t,300))},[s,a.length,t]),c=e.useCallback(()=>{i(!1),setTimeout(t,300)},[t]);if(e.useEffect(()=>{const e=e=>{"Enter"===e.key?(e.preventDefault(),l()):"Escape"===e.key&&(e.preventDefault(),c())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[l,c]),!o)return null;const u=a[s];return n.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",background:"rgba(10, 10, 20, 0.95)",border:"1px solid rgba(0, 255, 255, 0.3)",borderRadius:"16px",padding:"24px 32px",zIndex:9e3,minWidth:"320px",boxShadow:"0 0 40px rgba(0, 255, 255, 0.2)",animation:"tooltipSlideUp 0.3s ease-out"},children:[n.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"16px"},children:a.map((e,t)=>n.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:t===s?"#00ffff":"rgba(255,255,255,0.2)",transition:"background 0.3s"}},t))}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"40px",marginBottom:"12px"},children:u.icon}),n.jsx("div",{style:{color:"#00ffff",fontSize:"18px",fontWeight:"bold",marginBottom:"8px"},children:u.title}),n.jsx("div",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px"},children:u.text})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginTop:"20px",fontSize:"12px",color:"rgba(255,255,255,0.5)"},children:[n.jsxs("span",{children:[n.jsx("kbd",{style:{background:"rgba(255,255,255,0.1)",padding:"2px 8px",borderRadius:"4px",marginRight:"6px"},children:"ESC"})," Skip all"]}),n.jsxs("span",{children:[n.jsx("kbd",{style:{background:"rgba(0,255,255,0.2)",padding:"2px 8px",borderRadius:"4px",marginRight:"6px",color:"#00ffff"},children:"ENTER"})," ",s<a.length-1?"Next":"Done"]})]}),n.jsx("style",{children:"\n        @keyframes tooltipSlideUp {\n          from { opacity: 0; transform: translateX(-50%) translateY(20px); }\n          to { opacity: 1; transform: translateX(-50%) translateY(0); }\n        }\n      "})]})}function Bt(){const[t,s]=e.useState(!0),[r,o]=e.useState(!1),[i,a]=e.useState(!1),[l,c]=e.useState(null),[u,d]=e.useState(!1),[p,h]=e.useState(!1),[f,m]=e.useState(!1),[x,y]=function(){const[t,n]=e.useState(!1),s=e.useRef([]),r=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];return e.useEffect(()=>{const e=e=>{s.current.push(e.key),s.current.length>10&&s.current.shift(),s.current.join(",")===r.join(",")&&(n(!0),s.current=[])};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),[t,e.useCallback(()=>n(!1),[])]}(),[j,v]=e.useState(null),[b,w]=e.useState(()=>"true"!==localStorage.getItem("vanvinkl-onboarded")),M=e.useCallback(()=>{w(!1),localStorage.setItem("vanvinkl-onboarded","true")},[]);e.useEffect(()=>{Mt()},[]),e.useEffect(()=>Xe.onUnlock(e=>{v(e)}),[]),e.useEffect(()=>{x&&Xe.trackKonami()},[x]);const k=e.useRef({x:0,y:0});if(e.useEffect(()=>{h(gt())},[]),e.useEffect(()=>{const e=e=>{if(("?"===e.key||"/"===e.key&&e.shiftKey)&&(e.preventDefault(),m(e=>!e)),"m"===e.key||"M"===e.key){const e=!("true"===localStorage.getItem("vanvinkl-muted"));localStorage.setItem("vanvinkl-muted",String(e)),Ce.setMuted(e)}"Escape"===e.key&&f&&m(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[f]),!function(){try{const e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}())return n.jsx(Re,{});const S=e.useCallback(e=>{c(e)},[]),R=e.useCallback(()=>{o(!0),localStorage.setItem("vanvinkl-visited","true")},[]),T=e.useCallback(()=>{a(!0)},[]);e.useEffect(()=>{r&&i&&s(!1)},[r,i]);const A=e.useCallback((e,t)=>{k.current.x=e,k.current.y=t},[]),z=e.useCallback(()=>{const e=new KeyboardEvent("keydown",{code:"Space",key:" ",bubbles:!0});window.dispatchEvent(e)},[]),C=e.useCallback(()=>{d(!0)},[]);return u?n.jsx(Se,{}):n.jsxs(Te,{children:[n.jsx(g,{shadows:!1,dpr:[1,1.5],gl:{antialias:!0,alpha:!1,powerPreference:"high-performance",stencil:!1,depth:!0,logarithmicDepthBuffer:!1,precision:"highp",failIfMajorPerformanceCaveat:!1},camera:{fov:55,near:.5,far:80,position:[0,5,18]},performance:{min:.5,max:1,debounce:200},frameloop:"always",flat:!0,onCreated:({gl:e})=>{e.domElement.addEventListener("webglcontextlost",C)},children:n.jsxs(e.Suspense,{fallback:n.jsx(It,{}),children:[t&&n.jsx(mt,{onComplete:T,avatarSpawnPosition:[0,0,10]}),n.jsx(ct,{onSlotSpin:S,introActive:t,slotOpen:!!l})]})}),!t&&n.jsx(Tt,{}),!t&&!l&&!p&&n.jsx(Rt,{}),!t&&!l&&!p&&n.jsx(At,{}),!t&&!l&&!p&&n.jsx(zt,{}),!t&&!l&&n.jsx(vt,{onMove:A,onAction:z,visible:p}),n.jsx(xt,{active:t,onComplete:R,canSkip:"true"===localStorage.getItem("vanvinkl-visited")}),l&&n.jsx(e.Suspense,{fallback:n.jsx(St,{}),children:n.jsx(kt,{machineId:l,onClose:()=>c(null),onNavigate:c})}),n.jsx(Ct,{isOpen:f,onClose:()=>m(!1)}),n.jsx(Gt,{active:x,onComplete:y}),n.jsx(Et,{achievement:j,onClose:()=>v(null)}),b&&!t&&!l&&n.jsx(Lt,{onDismiss:M})]})}y.createRoot(document.getElementById("root")).render(n.jsx(Bt,{}));export{Xe as a,qe as b,Ge as c,De as d,Oe as e,We as f,Le as g,$e as h,Ue as i,Ve as j,Fe as k,Ie as p,_e as s};
